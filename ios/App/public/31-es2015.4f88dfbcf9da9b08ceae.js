(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{fhSy:function(e,t,o){"use strict";o.r(t),o.d(t,"RegisterPageModule",function(){return Q});var n=o("ofXK"),r=o("3Pt+"),i=o("TEn/"),s=o("tyNb"),l=o("mrSG"),c=o("XKlN"),a=o("J0a7"),b=o("l9uC"),d=o("FIaY"),u=o("H98O"),g=o("ZF+8"),f=o("LF58"),m=o("/GFm"),h=o("FJ7I"),p=o("fXoL"),T=o("1rxE");function v(e,t){if(1&e&&(p.Ub(0,"small"),p.Dc(1),p.Tb()),2&e){const e=p.ec();p.Cb(1),p.Fc(" ",null==e.fg.controls.receiver_name.errors||null==e.fg.controls.receiver_name.errors.required?null:e.fg.controls.receiver_name.errors.required.message," ")}}function C(e,t){if(1&e&&(p.Ub(0,"small"),p.Dc(1),p.Tb()),2&e){const e=p.ec();p.Cb(1),p.Ic("",null==e.fg.controls.phone.errors||null==e.fg.controls.phone.errors.required?null:e.fg.controls.phone.errors.required.message," ",null==e.fg.controls.phone.errors||null==e.fg.controls.phone.errors.numeric?null:e.fg.controls.phone.errors.numeric.message," ",null==e.fg.controls.phone.errors||null==e.fg.controls.phone.errors.minLength?null:e.fg.controls.phone.errors.minLength.message," ",null==e.fg.controls.phone.errors||null==e.fg.controls.phone.errors.maxLength?null:e.fg.controls.phone.errors.maxLength.message,"")}}function U(e,t){if(1&e&&(p.Ub(0,"small"),p.Dc(1),p.Tb()),2&e){const e=p.ec();p.Cb(1),p.Hc("",null==e.fg.controls.address_detail.errors||null==e.fg.controls.address_detail.errors.required?null:e.fg.controls.address_detail.errors.required.message," ",null==e.fg.controls.address_detail.errors||null==e.fg.controls.address_detail.errors.minLength?null:e.fg.controls.address_detail.errors.minLength.message," ",null==e.fg.controls.address_detail.errors||null==e.fg.controls.address_detail.errors.maxLength?null:e.fg.controls.address_detail.errors.maxLength.message,"")}}function _(e,t){if(1&e&&(p.Ub(0,"ion-select-option",43),p.Dc(1),p.fc(2,"titlecase"),p.Tb()),2&e){const e=t.$implicit;p.mc("value",null==e?null:e.province_id),p.Cb(1),p.Ec(p.gc(2,2,null==e?null:e.name))}}function D(e,t){if(1&e&&(p.Ub(0,"small"),p.Dc(1),p.Tb()),2&e){const e=p.ec();p.Cb(1),p.Ec(null==e.fg.controls.province_id.errors||null==e.fg.controls.province_id.errors.required?null:e.fg.controls.province_id.errors.required.message)}}function E(e,t){if(1&e&&(p.Ub(0,"ion-select-option",43),p.Dc(1),p.fc(2,"titlecase"),p.Tb()),2&e){const e=t.$implicit;p.mc("value",null==e?null:e.city_id),p.Cb(1),p.Ec(p.gc(2,2,null==e?null:e.name))}}function S(e,t){if(1&e&&(p.Ub(0,"small"),p.Dc(1),p.Tb()),2&e){const e=p.ec();p.Cb(1),p.Ec(null==e.fg.controls.city_id.errors||null==e.fg.controls.city_id.errors.required?null:e.fg.controls.city_id.errors.required.message)}}function O(e,t){if(1&e&&(p.Ub(0,"ion-select-option",43),p.Dc(1),p.fc(2,"titlecase"),p.Tb()),2&e){const e=t.$implicit;p.mc("value",null==e?null:e.district_id),p.Cb(1),p.Ec(p.gc(2,2,null==e?null:e.name))}}function I(e,t){if(1&e&&(p.Ub(0,"small"),p.Dc(1),p.Tb()),2&e){const e=p.ec();p.Cb(1),p.Ec(null==e.fg.controls.district_id.errors||null==e.fg.controls.district_id.errors.required?null:e.fg.controls.district_id.errors.required.message)}}function w(e,t){if(1&e&&(p.Ub(0,"ion-select-option",43),p.Dc(1),p.fc(2,"titlecase"),p.Tb()),2&e){const e=t.$implicit;p.mc("value",null==e?null:e.sub_district_id),p.Cb(1),p.Ec(p.gc(2,2,(null==e?null:e.name)+" - "+(null==e?null:e.postal_code)))}}function y(e,t){if(1&e&&(p.Ub(0,"small"),p.Dc(1),p.Tb()),2&e){const e=p.ec();p.Cb(1),p.Ec(null==e.fg.controls.sub_district_id.errors||null==e.fg.controls.sub_district_id.errors.required?null:e.fg.controls.sub_district_id.errors.required.message)}}function L(e,t){if(1&e&&(p.Ub(0,"small"),p.Dc(1),p.Tb()),2&e){const e=p.ec();p.Cb(1),p.Ec(null==e.fg.controls.address_name.errors||null==e.fg.controls.address_name.errors.required?null:e.fg.controls.address_name.errors.required.message)}}function P(e,t){1&e&&p.Pb(0,"ion-spinner",44)}let A=(()=>{class e{constructor(e,t,o,n,r,i,s,l,c,a,b,d){this.activatedRoute=e,this.router=t,this.fb=o,this.validatorSrv=n,this.userSrv=r,this.translateSrv=i,this.gs=s,this.modalCtrl=l,this.addressSrv=c,this.settingSrv=a,this.toastSrv=b,this.cache=d,this.prefixFormValue=null,this.currentChar=0,this.provinceList=[],this.cityList=[],this.districtList=[],this.subDistrictList=[],this.isOnFetch=!1,this.observeQueryParams(),this.initRegisterFormStepTwo()}ngOnInit(){}ionViewDidEnter(){this.observeFetchState()}observeFetchState(){this.gs.observeOnFetch().subscribe(e=>{this.isOnFetch=e})}observeQueryParams(){const e=this.activatedRoute.snapshot.queryParamMap.get("prefix");e?this.prefixFormValue=JSON.parse(e):this.router.navigate(["/registers"])}initRegisterFormStepTwo(){var e,t,o,n;this.validatorSrv.validatorErrorMessage(),this.fg=this.fb.group({receiver_name:[null===(e=this.prefixFormValue)||void 0===e?void 0:e.full_name,c.c.required()],phone:[null===(t=this.prefixFormValue)||void 0===t?void 0:t.phone,[c.c.required(),c.c.numeric(),c.c.minLength({value:7,message:`${this.translateSrv.get("VALIDATOR_MIN")} 7`}),c.c.maxLength({value:15,message:`${this.translateSrv.get("VALIDATOR_MAX")} 15`})]],latitude:[null,[c.c.required(),c.c.latitude()]],longitude:[null,[c.c.required(),c.c.longitude()]],address:["-",[c.c.required()]],address_detail:[null,[c.c.required(),c.c.minLength({value:8,message:`${this.translateSrv.get("VALIDATOR_MIN")} 8`}),c.c.maxLength({value:100,message:`${this.translateSrv.get("VALIDATOR_MAX")} 100`})]],province_id:[null,[c.c.required()]],city_id:[{value:null,disabled:!0},[c.c.required()]],district_id:[{value:null,disabled:!0},[c.c.required()]],sub_district_id:[{value:null,disabled:!0},[c.c.required()]],address_name:[null,[c.c.required()]],tos:[!1,c.c.requiredTrue()],token:[(null===(n=null===(o=this.cache.googleUserInfo)||void 0===o?void 0:o.authentication)||void 0===n?void 0:n.idToken)||this.cache.fbToken]}),this.countCurrentChar(),this.fetchProvinces()}register(){if(this.fg.valid){const e=this.combineFormValues();let t=null;this.cache.googleUserInfo?t="/google":this.cache.fbToken&&(t="/facebook"),this.userSrv.register(e,t).then(()=>{this.cache.clearSocialInfo(),this.router.navigate(["/tabs","home"])})}}combineFormValues(){const e=this.fg.value;return Object.assign(Object.assign({},this.prefixFormValue),e)}countCurrentChar(){this.fg.controls.address_detail.valueChanges.subscribe(e=>{this.currentChar=this.gs.countChar(e)})}showModalOtp(){return Object(l.a)(this,void 0,void 0,function*(){const e=yield this.modalCtrl.create({component:d.a});return yield e.present()})}fetchProvinces(){this.addressSrv.getProvinces().then(e=>{this.provinceList=e})}fetchCities(e){this.addressSrv.getCities(e).then(e=>{this.cityList=e})}fetchDistricts(e){this.addressSrv.getDistricts(e).then(e=>{this.districtList=e})}fetchSubDistricts(e){return Object(l.a)(this,void 0,void 0,function*(){yield this.addressSrv.getSubDistricts(e).then(e=>{this.subDistrictList=e})})}onProvinceSelect(e){const t=this.fg.controls;t.city_id.setValue(null),t.city_id.enable(),t.district_id.setValue(null),t.district_id.disable(),this.fetchCities(e)}onCitySelect(e){const t=this.fg.controls;e&&(t.district_id.setValue(null),t.district_id.enable(),this.fetchDistricts(e))}onDistrictSelect(e){const t=this.fg.controls;e&&(t.sub_district_id.setValue(null),t.sub_district_id.enable(),this.fetchSubDistricts(e))}presentModalPinLocation(){return Object(l.a)(this,void 0,void 0,function*(){const e=yield this.modalCtrl.create({component:a.a,componentProps:{longitude:this.fg.value.longitude,latitude:this.fg.value.latitude}});return e.onDidDismiss().then(e=>{var t;const o=e.data;if(o){const e=this.fg.controls;e.longitude.setValue(o.coordinate.longitude),e.latitude.setValue(o.coordinate.latitude),e.address.setValue(null===(t=null==o?void 0:o.addressData)||void 0===t?void 0:t.formatted_address),e.longitude.markAsDirty(),e.latitude.markAsDirty(),e.address.markAsDirty()}}),yield e.present()})}showTnc(){this.settingSrv.getTnc().then(e=>{const t=e.response;t.name=this.translateSrv.get("TERMS_CONDITIONS"),this.showSettingModal(t)}).catch(e=>{this.toastSrv.show(e.error.error.message)})}showSettingModal(e){return Object(l.a)(this,void 0,void 0,function*(){const t=yield this.modalCtrl.create({component:b.a,componentProps:{title:e.name,content:e.content}});return yield t.present()})}}return e.\u0275fac=function(t){return new(t||e)(p.Ob(s.a),p.Ob(s.g),p.Ob(r.d),p.Ob(g.d),p.Ob(h.a),p.Ob(u.a),p.Ob(g.c),p.Ob(i.eb),p.Ob(m.a),p.Ob(f.k),p.Ob(g.e),p.Ob(g.b))},e.\u0275cmp=p.Ib({type:e,selectors:[["app-register-step-two"]],decls:138,vars:90,consts:[[1,"ion-no-border"],["mode","ios"],["slot","start","mode","md"],["icon","chevron-back"],[1,"ion-padding-horizontal"],["size","12",1,"ion-padding"],["size","5.5",1,"ion-text-center","stepper"],["size","1"],["size","12",1,"ion-padding-horizontal"],[1,"ion-padding-top","ion-padding-horizontal","h-100"],[1,"ion-justify-content-between"],[3,"formGroup"],[1,"form-group"],["lines","none",1,"form-group"],["position","stacked"],["type","text","formControlName","receiver_name",1,"default-theme",3,"placeholder"],[4,"ngIf"],["type","tel","formControlName","phone",1,"default-theme",3,"placeholder"],[1,"ion-align-items-center","ion-padding-vertical"],["size","6",1,"ion-no-padding"],["size","small"],["size","6",1,"ion-no-padding","ion-text-right"],["fill","outline","shape","round","size","small","color","secondary",3,"click"],["size","12",1,"ion-no-padding"],["formControlName","address_detail","rows","6",3,"placeholder"],[1,"ion-no-padding"],[1,"count"],["size","6",1,"ion-padding-end","ion-no-padding"],["lines","none"],["formControlName","province_id",3,"placeholder","ionChange"],[3,"value",4,"ngFor","ngForOf"],["size","6",1,"ion-padding-start","ion-no-padding"],["formControlName","city_id",3,"placeholder","ionChange"],["formControlName","district_id",3,"placeholder","ionChange"],["formControlName","sub_district_id",3,"placeholder"],["type","text","formControlName","address_name",1,"default-theme",3,"placeholder"],[1,"form-group","ion-padding-vertical"],[1,"ion-padding-top"],["formControlName","tos",1,"ion-margin-end"],[3,"click"],[1,"ion-no-border","ion-padding-horizontal"],["expand","block","shape","round","color","success",3,"disabled","click"],["name","dots","color","dark",4,"ngIf"],[3,"value"],["name","dots","color","dark"]],template:function(e,t){1&e&&(p.Ub(0,"ion-header",0),p.Ub(1,"ion-toolbar",1),p.Ub(2,"ion-buttons",2),p.Pb(3,"ion-back-button",3),p.Tb(),p.Ub(4,"ion-title"),p.Dc(5),p.fc(6,"translate"),p.Tb(),p.Tb(),p.Ub(7,"ion-row",4),p.Ub(8,"ion-col",5),p.Ub(9,"ion-row"),p.Ub(10,"ion-col",6),p.Ub(11,"small"),p.Dc(12),p.fc(13,"translate"),p.Tb(),p.Tb(),p.Ub(14,"ion-col",7),p.Dc(15," \xa0 "),p.Tb(),p.Ub(16,"ion-col",6),p.Ub(17,"small"),p.Dc(18),p.fc(19,"translate"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(20,"ion-col",8),p.Ub(21,"span"),p.Ub(22,"b"),p.Dc(23),p.fc(24,"translate"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(25,"ion-content"),p.Ub(26,"ion-grid",9),p.Ub(27,"ion-row",10),p.Ub(28,"ion-col",8),p.Ub(29,"form",11),p.Ub(30,"div",12),p.Ub(31,"ion-item",13),p.Ub(32,"ion-label",14),p.Dc(33),p.fc(34,"translate"),p.Tb(),p.Pb(35,"ion-input",15),p.fc(36,"translate"),p.Bc(37,v,2,1,"small",16),p.Tb(),p.Tb(),p.Ub(38,"div",12),p.Ub(39,"ion-item",13),p.Ub(40,"ion-label",14),p.Dc(41),p.fc(42,"translate"),p.Tb(),p.Pb(43,"ion-input",17),p.fc(44,"translate"),p.Bc(45,C,2,4,"small",16),p.Tb(),p.Tb(),p.Ub(46,"ion-row",18),p.Ub(47,"ion-col",19),p.Ub(48,"ion-text",20),p.Ub(49,"small"),p.Dc(50),p.fc(51,"translate"),p.Tb(),p.Tb(),p.Tb(),p.Ub(52,"ion-col",21),p.Ub(53,"ion-button",22),p.cc("click",function(){return t.presentModalPinLocation()}),p.Dc(54),p.fc(55,"translate"),p.Tb(),p.Tb(),p.Ub(56,"ion-col",23),p.Ub(57,"small"),p.Dc(58),p.Tb(),p.Tb(),p.Tb(),p.Ub(59,"div",12),p.Ub(60,"ion-item",13),p.Ub(61,"ion-label",14),p.Dc(62),p.fc(63,"translate"),p.Tb(),p.Pb(64,"ion-textarea",24),p.fc(65,"translate"),p.Ub(66,"ion-row",25),p.Ub(67,"ion-col",19),p.Bc(68,U,2,3,"small",16),p.Tb(),p.Ub(69,"ion-col",21),p.Ub(70,"small",26),p.Dc(71),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(72,"ion-row"),p.Ub(73,"ion-col",27),p.Ub(74,"div",12),p.Ub(75,"ion-item",28),p.Ub(76,"ion-label",14),p.Dc(77),p.fc(78,"translate"),p.Tb(),p.Ub(79,"ion-select",29),p.cc("ionChange",function(e){return t.onProvinceSelect(null==e||null==e.detail?null:e.detail.value)}),p.fc(80,"translate"),p.Bc(81,_,3,4,"ion-select-option",30),p.Tb(),p.Tb(),p.Bc(82,D,2,1,"small",16),p.Tb(),p.Tb(),p.Ub(83,"ion-col",31),p.Ub(84,"div",12),p.Ub(85,"ion-item",28),p.Ub(86,"ion-label",14),p.Dc(87),p.fc(88,"translate"),p.Tb(),p.Ub(89,"ion-select",32),p.cc("ionChange",function(e){return t.onCitySelect(null==e||null==e.detail?null:e.detail.value)}),p.fc(90,"translate"),p.Bc(91,E,3,4,"ion-select-option",30),p.Tb(),p.Tb(),p.Bc(92,S,2,1,"small",16),p.Tb(),p.Tb(),p.Tb(),p.Ub(93,"ion-row"),p.Ub(94,"ion-col",27),p.Ub(95,"div",12),p.Ub(96,"ion-item",28),p.Ub(97,"ion-label",14),p.Dc(98),p.fc(99,"translate"),p.Tb(),p.Ub(100,"ion-select",33),p.cc("ionChange",function(e){return t.onDistrictSelect(null==e||null==e.detail?null:e.detail.value)}),p.fc(101,"translate"),p.Bc(102,O,3,4,"ion-select-option",30),p.Tb(),p.Tb(),p.Bc(103,I,2,1,"small",16),p.Tb(),p.Tb(),p.Ub(104,"ion-col",31),p.Ub(105,"div",12),p.Ub(106,"ion-item",28),p.Ub(107,"ion-label",14),p.Dc(108),p.fc(109,"translate"),p.Tb(),p.Ub(110,"ion-select",34),p.fc(111,"translate"),p.Bc(112,w,3,4,"ion-select-option",30),p.Tb(),p.Tb(),p.Bc(113,y,2,1,"small",16),p.Tb(),p.Tb(),p.Tb(),p.Ub(114,"div",12),p.Ub(115,"ion-item",28),p.Ub(116,"ion-label",14),p.Dc(117),p.fc(118,"translate"),p.Tb(),p.Pb(119,"ion-input",35),p.fc(120,"translate"),p.Tb(),p.Bc(121,L,2,1,"small",16),p.Tb(),p.Ub(122,"div",36),p.Ub(123,"div",37),p.Pb(124,"ion-checkbox",38),p.Ub(125,"ion-text",39),p.cc("click",function(){return t.showTnc()}),p.Dc(126),p.fc(127,"translate"),p.Tb(),p.Tb(),p.Ub(128,"small"),p.Dc(129),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(130,"ion-footer",40),p.Ub(131,"ion-grid"),p.Ub(132,"ion-row"),p.Ub(133,"ion-col"),p.Ub(134,"ion-button",41),p.cc("click",function(){return t.register()}),p.Dc(135),p.fc(136,"translate"),p.Bc(137,P,1,0,"ion-spinner",42),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb()),2&e&&(p.Cb(5),p.Ec(p.gc(6,42,"REGISTER")),p.Cb(7),p.Fc("",p.gc(13,44,"STEP")," 1"),p.Cb(6),p.Fc("",p.gc(19,46,"STEP")," 2 "),p.Cb(5),p.Ec(p.gc(24,48,"DELIVERY_INFORMATION")),p.Cb(6),p.mc("formGroup",t.fg),p.Cb(4),p.Ec(p.gc(34,50,"RECEIVER_NAME")),p.Cb(2),p.nc("placeholder",p.gc(36,52,"RECEIVER_NAME_PLACEHOLDER")),p.Cb(2),p.mc("ngIf",t.fg.controls.receiver_name.dirty),p.Cb(4),p.Ec(p.gc(42,54,"PHONE_NUMBER")),p.Cb(2),p.nc("placeholder",p.gc(44,56,"PHONE_NUMBER_PLACEHOLDER")),p.Cb(2),p.mc("ngIf",t.fg.controls.phone.dirty),p.Cb(5),p.Ec(p.gc(51,58,"DELIVERY_ADDRESS")),p.Cb(4),p.Fc(" ",p.gc(55,60,"PIN_LOCATION")," "),p.Cb(4),p.Ec(t.fg.value.address),p.Cb(4),p.Ec(p.gc(63,62,"ADDRESS_DETAIL")),p.Cb(2),p.nc("placeholder",p.gc(65,64,"ADDRESS_DETAIL_PLACEHOLDER")),p.Cb(4),p.mc("ngIf",t.fg.controls.address_detail.dirty),p.Cb(3),p.Fc("",t.currentChar," / 100"),p.Cb(6),p.Ec(p.gc(78,66,"PROVINCE")),p.Cb(2),p.nc("placeholder",p.gc(80,68,"PROVINCE_PLACEHOLDER")),p.Cb(2),p.mc("ngForOf",t.provinceList),p.Cb(1),p.mc("ngIf",t.fg.controls.province_id.touched),p.Cb(5),p.Ec(p.gc(88,70,"CITY")),p.Cb(2),p.nc("placeholder",p.gc(90,72,"CITY_PLACEHOLDER")),p.Cb(2),p.mc("ngForOf",t.cityList),p.Cb(1),p.mc("ngIf",t.fg.controls.city_id.touched),p.Cb(6),p.Ec(p.gc(99,74,"DISTRICT")),p.Cb(2),p.nc("placeholder",p.gc(101,76,"DISTRICT_PLACEHOLDER")),p.Cb(2),p.mc("ngForOf",t.districtList),p.Cb(1),p.mc("ngIf",t.fg.controls.district_id.touched),p.Cb(5),p.Ec(p.gc(109,78,"SUB_DISTRICT")),p.Cb(2),p.nc("placeholder",p.gc(111,80,"SUB_DISTRICT_PLACEHOLDER")),p.Cb(2),p.mc("ngForOf",t.subDistrictList),p.Cb(1),p.mc("ngIf",t.fg.controls.sub_district_id.touched),p.Cb(4),p.Ec(p.gc(118,82,"ADDRESS_NAME")),p.Cb(2),p.nc("placeholder",p.gc(120,84,"ADDRESS_NAME_PLACEHOLDER")),p.Cb(2),p.mc("ngIf",t.fg.controls.address_name.dirty),p.Cb(5),p.Ec(p.gc(127,86,"TOS_AGREEMENT")),p.Cb(3),p.Ec(null==t.fg.controls.tos.errors||null==t.fg.controls.tos.errors.requiredTrue?null:t.fg.controls.tos.errors.requiredTrue.message),p.Cb(5),p.mc("disabled",t.fg.invalid||t.isOnFetch),p.Cb(1),p.Fc(" ",p.gc(136,88,"NEXT")," "),p.Cb(2),p.mc("ngIf",t.isOnFetch))},directives:[i.t,i.bb,i.i,i.e,i.f,i.ab,i.K,i.o,i.p,i.s,r.y,r.q,r.i,i.y,i.C,i.x,i.mb,r.p,r.g,n.n,i.X,i.h,i.Y,i.O,i.lb,n.m,i.m,i.c,i.r,i.P,i.T],pipes:[T.a,n.t],styles:[""]}),e})();var R=o("6GTT"),N=o("tk/3");let q=(()=>{class e{constructor(e,t){this.gs=e,this.http=t}getFbData(e){return new Promise((t,o)=>{const n=this.http.get(`https://graph.facebook.com/me?fields=name,email,picture.width(400).height(400)&access_token=${e}`);this.gs.pushSubscription(n),n.subscribe(e=>{t(e)},e=>{o(e)})})}}return e.\u0275fac=function(t){return new(t||e)(p.Yb(R.a),p.Yb(N.b))},e.\u0275prov=p.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var F=o("3WbM"),M=o("wd/R");function k(e,t){if(1&e&&(p.Ub(0,"small"),p.Dc(1),p.Tb()),2&e){const e=p.ec();p.Cb(1),p.Ec(null==e.fg.controls.full_name.errors||null==e.fg.controls.full_name.errors.required?null:e.fg.controls.full_name.errors.required.message)}}function x(e,t){if(1&e&&(p.Ub(0,"small"),p.Dc(1),p.Tb()),2&e){const e=p.ec();p.Cb(1),p.Gc(" ",null==e.fg.controls.email.errors||null==e.fg.controls.email.errors.required?null:e.fg.controls.email.errors.required.message," ",null==e.fg.controls.email.errors||null==e.fg.controls.email.errors.email?null:e.fg.controls.email.errors.email.message," ")}}function V(e,t){if(1&e&&(p.Ub(0,"small"),p.Dc(1),p.Tb()),2&e){const e=p.ec();p.Cb(1),p.Ic("",null==e.fg.controls.phone.errors||null==e.fg.controls.phone.errors.required?null:e.fg.controls.phone.errors.required.message," ",null==e.fg.controls.phone.errors||null==e.fg.controls.phone.errors.numeric?null:e.fg.controls.phone.errors.numeric.message," ",null==e.fg.controls.phone.errors||null==e.fg.controls.phone.errors.minLength?null:e.fg.controls.phone.errors.minLength.message," ",null==e.fg.controls.phone.errors||null==e.fg.controls.phone.errors.maxLength?null:e.fg.controls.phone.errors.maxLength.message,"")}}function z(e,t){if(1&e&&(p.Ub(0,"small"),p.Dc(1),p.Tb()),2&e){const e=p.ec();p.Cb(1),p.Ec(null==e.fg.controls.gender.errors||null==e.fg.controls.gender.errors.required?null:e.fg.controls.gender.errors.required.message)}}function B(e,t){if(1&e&&(p.Ub(0,"small"),p.Dc(1),p.Tb()),2&e){const e=p.ec();p.Cb(1),p.Ec(null==e.fg.controls.birth_date.errors||null==e.fg.controls.birth_date.errors.required?null:e.fg.controls.birth_date.errors.required.message)}}function Y(e,t){if(1&e&&(p.Ub(0,"small",33),p.Dc(1),p.Tb()),2&e){const e=p.ec();p.Cb(1),p.Gc("",null==e.fg.controls.password.errors||null==e.fg.controls.password.errors.required?null:e.fg.controls.password.errors.required.message," ",null==e.fg.controls.password.errors||null==e.fg.controls.password.errors.minLength?null:e.fg.controls.password.errors.minLength.message,"")}}function H(e,t){if(1&e&&(p.Ub(0,"small"),p.Dc(1),p.Tb()),2&e){const e=p.ec();p.Cb(1),p.Gc("",null==e.fg.controls.confirm_password.errors||null==e.fg.controls.confirm_password.errors.required?null:e.fg.controls.confirm_password.errors.required.message," ",null==e.fg.controls.confirm_password.errors||null==e.fg.controls.confirm_password.errors.compare?null:e.fg.controls.confirm_password.errors.compare.message,"")}}function j(e,t){1&e&&p.Pb(0,"ion-spinner",34)}const G=[{path:"",component:(()=>{class e{constructor(e,t,o,n,r,i,s,l,c){this.fb=e,this.router=t,this.validatorSrv=o,this.translateSrv=n,this.userSrv=r,this.toastSrv=i,this.gs=s,this.cache=l,this.thirdPartySrv=c,this.currDate=M(new Date).tz(this.gs.timezoneName).format("YYYY-MM-DD"),this.passwordIsShow=!1,this.confPasswordIsShow=!1,this.isOnFetch=!1,this.googleInfo=null,this.fbInfo=null,this.googleInfo=this.cache.googleUserInfo}ngOnInit(){this.initRegisterFormStepOne()}ionViewDidEnter(){this.observeFetchState()}observeFetchState(){this.gs.observeOnFetch().subscribe(e=>{this.isOnFetch=e})}ngOnDestroy(){}initRegisterFormStepOne(){var e,t;this.validatorSrv.validatorErrorMessage(),this.fg=this.fb.group({full_name:[null===(e=this.googleInfo)||void 0===e?void 0:e.displayName,[c.c.required()]],email:[null===(t=this.googleInfo)||void 0===t?void 0:t.email,[c.c.required(),c.c.email()]],phone:[null,[c.c.required(),c.c.numeric(),c.c.minLength({value:7,message:`${this.translateSrv.get("VALIDATOR_MIN")} 7`}),c.c.maxLength({value:15,message:`${this.translateSrv.get("VALIDATOR_MAX")} 15`})]],gender:["m",[c.c.required()]],birth_date:[this.currDate,[c.c.required()]],password:[null,[c.c.required(),c.c.minLength({value:5,message:`${this.translateSrv.get("VALIDATOR_MIN")} 5`})]],confirm_password:[null,[c.c.required(),c.c.compare({fieldName:"password"})]]}),this.cache.fbToken&&this.getFbAccountInfo()}onDateSelect(e){const t=M(e).tz(this.gs.timezoneName).format("YYYY-MM-DD");this.fg.controls.birth_date.patchValue(t)}next(){this.fg.valid&&this.userSrv.checkEmailPhoneAvailability(this.fg.value.email,this.fg.value.phone).then(()=>{this.router.navigate(["/register/step-two"],{queryParams:{prefix:JSON.stringify(this.fg.value)}})}).catch(()=>{const e=this.fg.controls;e.phone.reset(),e.email.reset(),e.phone.markAsDirty(),e.email.markAsDirty(),this.toastSrv.show(this.translateSrv.get("PHONE_EMAIL_TAKEN"))})}getFbAccountInfo(){this.thirdPartySrv.getFbData(this.cache.fbToken).then(e=>{this.fg.controls.full_name.patchValue(null==e?void 0:e.name),this.fg.controls.email.patchValue(null==e?void 0:e.email)}).catch(e=>{this.gs.log("err",e)})}}return e.\u0275fac=function(t){return new(t||e)(p.Ob(r.d),p.Ob(s.g),p.Ob(g.d),p.Ob(u.a),p.Ob(h.a),p.Ob(F.a),p.Ob(g.c),p.Ob(g.b),p.Ob(q))},e.\u0275cmp=p.Ib({type:e,selectors:[["app-register"]],decls:103,vars:75,consts:[[1,"ion-no-border"],["mode","ios"],["slot","start","mode","md"],["icon","chevron-back"],[1,"ion-padding-horizontal"],["size","12",1,"ion-padding"],["size","5.5",1,"ion-text-center","stepper"],["color","primary"],["size","1"],["size","5.5",1,"ion-text-center","stepper","stepper-inactive"],[1,"ion-padding-horizontal","h-100"],[1,"ion-justify-content-between"],["size","12",1,"ion-padding-horizontal"],[3,"formGroup"],[1,"form-group"],["lines","none",1,"form-group"],["position","stacked"],["type","text","formControlName","full_name",1,"default-theme",3,"placeholder"],[4,"ngIf"],["type","email","formControlName","email",1,"default-theme",2,"--placeholder-color","blue !important",3,"placeholder","disabled"],["type","tel","formControlName","phone",1,"default-theme",3,"placeholder"],[1,"radio-wrapper-inline"],["type","radio","name","gender","formControlName","gender",1,"radio-input",3,"value"],[1,"radio-label"],["displayFormat","D MMMM YYYY","pickerFormat","D MMMM YYYY","formControlName","birth_date",3,"max","ionChange"],["lines","none"],["formControlName","password",1,"default-theme",3,"placeholder","type"],["size","small","slot","end",3,"name","click"],["class","ion-padding-left",4,"ngIf"],["formControlName","confirm_password",1,"default-theme",3,"placeholder","type"],[1,"ion-no-border","ion-padding-horizontal"],["expand","block","shape","round","color","success",3,"disabled","click"],["name","dots","color","dark",4,"ngIf"],[1,"ion-padding-left"],["name","dots","color","dark"]],template:function(e,t){1&e&&(p.Ub(0,"ion-header",0),p.Ub(1,"ion-toolbar",1),p.Ub(2,"ion-buttons",2),p.Pb(3,"ion-back-button",3),p.Tb(),p.Ub(4,"ion-title"),p.Dc(5),p.fc(6,"translate"),p.Tb(),p.Tb(),p.Ub(7,"ion-row",4),p.Ub(8,"ion-col",5),p.Ub(9,"ion-row"),p.Ub(10,"ion-col",6),p.Ub(11,"small",7),p.Dc(12),p.fc(13,"translate"),p.Tb(),p.Tb(),p.Ub(14,"ion-col",8),p.Dc(15," \xa0 "),p.Tb(),p.Ub(16,"ion-col",9),p.Ub(17,"small"),p.Dc(18),p.fc(19,"translate"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(20,"ion-content"),p.Ub(21,"ion-grid",10),p.Ub(22,"ion-row",11),p.Ub(23,"ion-col",12),p.Ub(24,"span"),p.Ub(25,"b"),p.Dc(26),p.fc(27,"translate"),p.Tb(),p.Tb(),p.Tb(),p.Ub(28,"ion-col",12),p.Ub(29,"form",13),p.Ub(30,"div",14),p.Ub(31,"ion-item",15),p.Ub(32,"ion-label",16),p.Dc(33),p.fc(34,"translate"),p.Tb(),p.Pb(35,"ion-input",17),p.fc(36,"translate"),p.Tb(),p.Bc(37,k,2,1,"small",18),p.Tb(),p.Ub(38,"div",14),p.Ub(39,"ion-item",15),p.Ub(40,"ion-label",16),p.Dc(41),p.fc(42,"translate"),p.Tb(),p.Pb(43,"ion-input",19),p.fc(44,"translate"),p.Tb(),p.Bc(45,x,2,2,"small",18),p.Tb(),p.Ub(46,"div",14),p.Ub(47,"ion-item",15),p.Ub(48,"ion-label",16),p.Dc(49),p.fc(50,"translate"),p.Tb(),p.Pb(51,"ion-input",20),p.fc(52,"translate"),p.Tb(),p.Bc(53,V,2,4,"small",18),p.Tb(),p.Ub(54,"div",14),p.Ub(55,"ion-item",15),p.Ub(56,"ion-label",16),p.Dc(57),p.fc(58,"translate"),p.Tb(),p.Ub(59,"fieldset",21),p.Ub(60,"div"),p.Pb(61,"input",22),p.Ub(62,"label",23),p.Dc(63),p.fc(64,"translate"),p.Tb(),p.Pb(65,"input",22),p.Ub(66,"label",23),p.Dc(67),p.fc(68,"translate"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Bc(69,z,2,1,"small",18),p.Tb(),p.Ub(70,"div",14),p.Ub(71,"ion-item",15),p.Ub(72,"ion-label",16),p.Dc(73),p.fc(74,"translate"),p.Tb(),p.Ub(75,"ion-datetime",24),p.cc("ionChange",function(e){return t.onDateSelect(e.detail.value)}),p.Tb(),p.Tb(),p.Bc(76,B,2,1,"small",18),p.Tb(),p.Ub(77,"div",14),p.Ub(78,"ion-item",25),p.Ub(79,"ion-label",16),p.Dc(80),p.fc(81,"translate"),p.Tb(),p.Pb(82,"ion-input",26),p.fc(83,"translate"),p.Ub(84,"ion-icon",27),p.cc("click",function(){return t.passwordIsShow=!t.passwordIsShow}),p.Tb(),p.Tb(),p.Bc(85,Y,2,2,"small",28),p.Tb(),p.Ub(86,"div",14),p.Ub(87,"ion-item",15),p.Ub(88,"ion-label",16),p.Dc(89),p.fc(90,"translate"),p.Tb(),p.Pb(91,"ion-input",29),p.fc(92,"translate"),p.Ub(93,"ion-icon",27),p.cc("click",function(){return t.confPasswordIsShow=!t.confPasswordIsShow}),p.Tb(),p.Tb(),p.Bc(94,H,2,2,"small",18),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(95,"ion-footer",30),p.Ub(96,"ion-grid"),p.Ub(97,"ion-row"),p.Ub(98,"ion-col"),p.Ub(99,"ion-button",31),p.cc("click",function(){return t.next()}),p.Dc(100),p.fc(101,"translate"),p.Bc(102,j,1,0,"ion-spinner",32),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb()),2&e&&(p.Cb(5),p.Ec(p.gc(6,37,"REGISTER")),p.Cb(7),p.Fc("",p.gc(13,39,"STEP")," 1 "),p.Cb(6),p.Fc("",p.gc(19,41,"STEP")," 2"),p.Cb(8),p.Ec(p.gc(27,43,"PERSONAL_INFORMATION")),p.Cb(3),p.mc("formGroup",t.fg),p.Cb(4),p.Ec(p.gc(34,45,"NAME")),p.Cb(2),p.nc("placeholder",p.gc(36,47,"NAME_PLACEHOLDER")),p.Cb(2),p.mc("ngIf",t.fg.controls.full_name.dirty),p.Cb(4),p.Ec(p.gc(42,49,"EMAIL_ADDRESS")),p.Cb(2),p.nc("placeholder",p.gc(44,51,"YOUR_EMAIL_ADDRESS")),p.mc("disabled",t.googleInfo),p.Cb(2),p.mc("ngIf",t.fg.controls.email.dirty),p.Cb(4),p.Ec(p.gc(50,53,"PHONE_NUMBER")),p.Cb(2),p.nc("placeholder",p.gc(52,55,"PHONE_NUMBER_PLACEHOLDER")),p.Cb(2),p.mc("ngIf",t.fg.controls.phone.dirty),p.Cb(4),p.Ec(p.gc(58,57,"GENDER")),p.Cb(4),p.mc("value","m"),p.Cb(2),p.Ec(p.gc(64,59,"MALE")),p.Cb(2),p.mc("value","f"),p.Cb(2),p.Ec(p.gc(68,61,"FEMALE")),p.Cb(2),p.mc("ngIf",t.fg.controls.gender.dirty),p.Cb(4),p.Ec(p.gc(74,63,"DOB")),p.Cb(2),p.mc("max",t.currDate),p.Cb(1),p.mc("ngIf",t.fg.controls.birth_date.dirty),p.Cb(4),p.Ec(p.gc(81,65,"PASSWORD")),p.Cb(2),p.nc("placeholder",p.gc(83,67,"YOUR_PASSWORD")),p.mc("type",t.passwordIsShow?"text":"password"),p.Cb(2),p.mc("name",t.passwordIsShow?"eye-off-outline":"eye-outline"),p.Cb(1),p.mc("ngIf",t.fg.controls.password.dirty),p.Cb(4),p.Ec(p.gc(90,69,"VERIFY_PASSWORD")),p.Cb(2),p.nc("placeholder",p.gc(92,71,"VERIFY_PASSWORD_PLACEHOLDER")),p.mc("type",t.confPasswordIsShow?"text":"password"),p.Cb(2),p.mc("name",t.confPasswordIsShow?"eye-off-outline":"eye-outline"),p.Cb(1),p.mc("ngIf",t.fg.controls.confirm_password.dirty),p.Cb(5),p.mc("disabled",t.fg.invalid||t.isOnFetch),p.Cb(1),p.Fc(" ",p.gc(101,73,"NEXT")," "),p.Cb(2),p.mc("ngIf",t.isOnFetch))},directives:[i.t,i.bb,i.i,i.e,i.f,i.ab,i.K,i.o,i.p,i.s,r.y,r.q,r.i,i.y,i.C,i.x,i.mb,r.p,r.g,n.n,r.u,r.b,i.q,i.lb,i.u,i.r,i.h,i.T],pipes:[T.a],styles:["*[_ngcontent-%COMP%]{background:#fff!important}.stepper[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-weight:700;color:#0f447a}.stepper-inactive[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-weight:700;color:#e5e5e5}"]}),e})()},{path:"step-two",component:A}];let $=(()=>{class e{}return e.\u0275mod=p.Mb({type:e}),e.\u0275inj=p.Lb({factory:function(t){return new(t||e)},imports:[[s.j.forChild(G)],s.j]}),e})();var X=o("6NWb"),J=o("PCNd"),K=o("Hljq"),W=o("D8hA");let Q=(()=>{class e{}return e.\u0275mod=p.Mb({type:e}),e.\u0275inj=p.Lb({factory:function(t){return new(t||e)},imports:[[n.b,r.j,i.cb,$,X.b,r.v,J.a,K.a,W.a]]}),e})()},l9uC:function(e,t,o){"use strict";o.d(t,"a",function(){return i});var n=o("fXoL"),r=o("TEn/");let i=(()=>{class e{constructor(e){this.modalCtrl=e}ngOnInit(){}dismiss(){this.modalCtrl.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(n.Ob(r.eb))},e.\u0275cmp=n.Ib({type:e,selectors:[["app-modal-setting"]],inputs:{title:"title",content:"content"},decls:7,vars:3,consts:[[1,"ion-no-border"],["mode","ios"],["mode","md",1,"ion-text-center"],["name","chevron-back-outline","slot","start",1,"ion-padding-start",3,"click"],[1,"header-title"],[1,"ion-padding",3,"fullscreen","innerHtml"]],template:function(e,t){1&e&&(n.Ub(0,"ion-header",0),n.Ub(1,"ion-toolbar",1),n.Ub(2,"ion-buttons",2),n.Ub(3,"ion-icon",3),n.cc("click",function(){return t.dismiss()}),n.Tb(),n.Tb(),n.Ub(4,"ion-title",4),n.Dc(5),n.Tb(),n.Tb(),n.Tb(),n.Pb(6,"ion-content",5)),2&e&&(n.Cb(5),n.Ec(t.title),n.Cb(1),n.mc("fullscreen",!0)("innerHtml",t.content,n.wc))},directives:[r.t,r.bb,r.i,r.u,r.ab,r.p],styles:[""]}),e})()}}]);