!function(){function n(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}function o(n,o){for(var t=0;t<o.length;t++){var e=o[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function t(n,t,e){return t&&o(n.prototype,t),e&&o(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[19,37,38,39],{"9paT":function(o,e,r){"use strict";r.r(e),r.d(e,"SetPasswordPageModule",function(){return U});var s=r("ofXK"),i=r("3Pt+"),a=r("TEn/"),c=r("tyNb"),l=r("mrSG"),u=r("XKlN"),b=r("PWI+"),f=r("H98O"),d=r("ZF+8"),m=r("LF58"),p=r("fXoL"),g=r("1rxE");function h(n,o){if(1&n&&(p.Ub(0,"small"),p.Dc(1),p.Tb()),2&n){var t=p.ec();p.Cb(1),p.Gc("",null==t.fg.controls.password.errors||null==t.fg.controls.password.errors.required?null:t.fg.controls.password.errors.required.message," ",null==t.fg.controls.password.errors||null==t.fg.controls.password.errors.minLength?null:t.fg.controls.password.errors.minLength.message," ")}}function w(n,o){if(1&n&&(p.Ub(0,"small"),p.Dc(1),p.Tb()),2&n){var t=p.ec();p.Cb(1),p.Gc("",null==t.fg.controls.confirm_password.errors||null==t.fg.controls.confirm_password.errors.required?null:t.fg.controls.confirm_password.errors.required.message," ",null==t.fg.controls.confirm_password.errors||null==t.fg.controls.confirm_password.errors.compare?null:t.fg.controls.confirm_password.errors.compare.message," ")}}var v,T,C,S=[{path:":token",component:(v=function(){function o(t,e,r,s,i,a,c,l,u,b,f){var d=this;n(this,o),this.modalCtrl=t,this.translate=e,this.gs=r,this.router=s,this.fb=i,this.validatorSrv=a,this.userSrv=c,this.route=l,this.toastSrv=u,this.authSrv=b,this.navCtrl=f,this.showCurrPass=!1,this.showNewPass=!1,this.buildForm(),this.route.params.subscribe(function(n){d.checkForgotToken(n.token)})}return t(o,[{key:"ngOnInit",value:function(){}},{key:"checkForgotToken",value:function(n){var o=this;this.authSrv.checkForgotToken(n).then(function(t){if(t)o.fg.patchValue({token:n});else{var e=o.translate.get("INVALID_TOKEN");o.toastSrv.show(e),o.navigateToLogin()}}).catch(function(n){var t=o.gs.getErrorMessage(n);o.toastSrv.show(t)})}},{key:"buildForm",value:function(){this.validatorSrv.validatorErrorMessage(),this.fg=this.fb.group({password:[null,[u.c.required(),u.c.minLength({value:5,message:"".concat(this.translate.get("VALIDATOR_MIN")," 5")})]],confirm_password:[null,[u.c.required(),u.c.compare({fieldName:"password"})]],token:null})}},{key:"setPassword",value:function(){var n=this;this.fg.valid?this.userSrv.setPassword(this.fg.value).then(function(){n.presentSuccessModal()}).catch(function(o){var t=n.gs.getErrorMessage(o);n.toastSrv.show(t)}):this.gs.markDirtyForm(this.fg)}},{key:"presentSuccessModal",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o,t=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalCtrl.create({component:b.a,cssClass:"modal-info",componentProps:{title:this.translate.get("CHANGE_PASSWORD_SUCCESS_TITLE"),message:this.translate.get("CHANGE_PASSWORD_SUCCESS_MESSAGE"),btnText:this.translate.get("LOGIN")}});case 2:return(o=n.sent).onDidDismiss().then(function(){t.navigateToLogin()}),n.next=6,o.present();case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}},n,this)}))}},{key:"navigateToLogin",value:function(){this.navCtrl.navigateRoot(["/login"])}}]),o}(),v.\u0275fac=function(n){return new(n||v)(p.Ob(a.eb),p.Ob(f.a),p.Ob(d.c),p.Ob(c.g),p.Ob(i.d),p.Ob(d.d),p.Ob(m.m),p.Ob(c.a),p.Ob(d.e),p.Ob(d.a),p.Ob(a.fb))},v.\u0275cmp=p.Ib({type:v,selectors:[["app-set-password"]],decls:35,vars:25,consts:[[1,"ion-no-border"],["mode","ios"],["slot","start","mode","md"],["icon","chevron-back","defaultHref","/login/form"],[1,"ion-padding-top"],["size","12",1,"ion-no-padding"],[3,"formGroup","ngSubmit"],["changePassForm","ngForm"],["lines","none",1,"form-group"],["position","stacked"],["formControlName","password",1,"default-theme",3,"placeholder","type"],["size","small","slot","end",3,"name","click"],[4,"ngIf"],["formControlName","confirm_password",1,"default-theme",3,"placeholder","type"],[1,"ion-padding-bottom"],[1,"ion-padding"],["expand","full","shape","round","color","success",3,"click"]],template:function(n,o){if(1&n){var t=p.Vb();p.Ub(0,"ion-header",0),p.Ub(1,"ion-toolbar",1),p.Ub(2,"ion-buttons",2),p.Pb(3,"ion-back-button",3),p.Ub(4,"ion-title"),p.Dc(5),p.fc(6,"translate"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(7,"ion-content"),p.Ub(8,"ion-grid",4),p.Ub(9,"ion-row"),p.Ub(10,"ion-col",5),p.Ub(11,"form",6,7),p.cc("ngSubmit",function(){return o.setPassword()}),p.Ub(13,"ion-item",8),p.Ub(14,"ion-label",9),p.Dc(15),p.fc(16,"translate"),p.Tb(),p.Pb(17,"ion-input",10),p.fc(18,"translate"),p.Ub(19,"ion-icon",11),p.cc("click",function(){return o.showCurrPass=!o.showCurrPass}),p.Tb(),p.Bc(20,h,2,2,"small",12),p.Tb(),p.Ub(21,"ion-item",8),p.Ub(22,"ion-label",9),p.Dc(23),p.fc(24,"translate"),p.Tb(),p.Pb(25,"ion-input",13),p.fc(26,"translate"),p.Ub(27,"ion-icon",11),p.cc("click",function(){return o.showNewPass=!o.showNewPass}),p.Tb(),p.Bc(28,w,2,2,"small",12),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(29,"ion-footer",0),p.Ub(30,"ion-row",14),p.Ub(31,"ion-col",15),p.Ub(32,"ion-button",16),p.cc("click",function(){return p.vc(t),p.uc(12).ngSubmit.emit()}),p.Dc(33),p.fc(34,"translate"),p.Tb(),p.Tb(),p.Tb(),p.Tb()}2&n&&(p.Cb(5),p.Ec(p.gc(6,13,"NEW_PASSWORD")),p.Cb(6),p.mc("formGroup",o.fg),p.Cb(4),p.Ec(p.gc(16,15,"NEW_PASSWORD")),p.Cb(2),p.nc("placeholder",p.gc(18,17,"NEW_PASSWORD")),p.mc("type",o.showCurrPass?"text":"password"),p.Cb(2),p.mc("name",o.showCurrPass?"eye-off-outline":"eye-outline"),p.Cb(1),p.mc("ngIf",o.fg.controls.password.dirty),p.Cb(3),p.Ec(p.gc(24,19,"VERIFY_NEW_PASSWORD")),p.Cb(2),p.nc("placeholder",p.gc(26,21,"VERIFY_NEW_PASSWORD")),p.mc("type",o.showNewPass?"text":"password"),p.Cb(2),p.mc("name",o.showNewPass?"eye-off-outline":"eye-outline"),p.Cb(1),p.mc("ngIf",o.fg.controls.confirm_password.dirty),p.Cb(5),p.Fc(" ",p.gc(34,23,"CHANGE_PASSWORD"),""))},directives:[a.t,a.bb,a.i,a.e,a.f,a.ab,a.p,a.s,a.K,a.o,i.y,i.q,i.i,a.y,a.C,a.x,a.mb,i.p,i.g,a.u,s.n,a.r,a.h],pipes:[g.a],styles:[""]}),v)}],y=((T=function o(){n(this,o)}).\u0275mod=p.Mb({type:T}),T.\u0275inj=p.Lb({factory:function(n){return new(n||T)},imports:[[c.j.forChild(S)],c.j]}),T),P=r("PCNd"),U=((C=function o(){n(this,o)}).\u0275mod=p.Mb({type:C}),C.\u0275inj=p.Lb({factory:function(n){return new(n||C)},imports:[[s.b,i.j,a.cb,y,P.a,i.v]]}),C)},PCNd:function(o,t,e){"use strict";e.d(t,"a",function(){return i});var r=e("ofXK"),s=e("fXoL"),i=function(){var o=function o(){n(this,o)};return o.\u0275mod=s.Mb({type:o}),o.\u0275inj=s.Lb({factory:function(n){return new(n||o)},imports:[[r.b]]}),o}()},"PWI+":function(o,e,r){"use strict";r.d(e,"a",function(){return a});var s=r("fXoL"),i=r("TEn/"),a=function(){var o=function(){function o(t){n(this,o),this.modalCtrl=t}return t(o,[{key:"ngOnInit",value:function(){}},{key:"dismiss",value:function(){this.modalCtrl.dismiss()}}]),o}();return o.\u0275fac=function(n){return new(n||o)(s.Ob(i.eb))},o.\u0275cmp=s.Ib({type:o,selectors:[["app-modal-info"]],inputs:{title:"title",message:"message",btnText:"btnText"},decls:15,vars:3,consts:[[1,"ion-padding-top"],[1,"ion-text-center","ion-padding-horizontal"],[1,"modal-title"],[1,"ion-text-center","ion-padding-horizontal","ion-padding-top"],[1,"modal-message"],[1,"ion-padding-horizontal","ion-padding-bottom"],["expand","full","color","success","shape","round",3,"click"]],template:function(n,o){1&n&&(s.Ub(0,"ion-content"),s.Ub(1,"ion-grid"),s.Ub(2,"ion-row",0),s.Ub(3,"ion-col",1),s.Ub(4,"ion-text",2),s.Dc(5),s.Tb(),s.Tb(),s.Tb(),s.Ub(6,"ion-row"),s.Ub(7,"ion-col",3),s.Ub(8,"ion-text",4),s.Dc(9),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(10,"ion-footer"),s.Ub(11,"ion-row"),s.Ub(12,"ion-col",5),s.Ub(13,"ion-button",6),s.cc("click",function(){return o.dismiss()}),s.Dc(14),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&n&&(s.Cb(5),s.Ec(o.title),s.Cb(4),s.Ec(o.message),s.Cb(5),s.Fc(" ",o.btnText," "))},directives:[i.p,i.s,i.K,i.o,i.X,i.r,i.h],styles:[".modal-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.modal-message[_ngcontent-%COMP%]{font-size:14px}"]}),o}()}}])}();