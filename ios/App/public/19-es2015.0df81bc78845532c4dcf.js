(window.webpackJsonp=window.webpackJsonp||[]).push([[19,37,38,39],{"9paT":function(o,t,s){"use strict";s.r(t),s.d(t,"SetPasswordPageModule",function(){return C});var n=s("ofXK"),e=s("3Pt+"),r=s("TEn/"),i=s("tyNb"),c=s("mrSG"),a=s("XKlN"),l=s("PWI+"),b=s("H98O"),d=s("ZF+8"),u=s("LF58"),f=s("fXoL"),m=s("1rxE");function p(o,t){if(1&o&&(f.Ub(0,"small"),f.Dc(1),f.Tb()),2&o){const o=f.ec();f.Cb(1),f.Gc("",null==o.fg.controls.password.errors||null==o.fg.controls.password.errors.required?null:o.fg.controls.password.errors.required.message," ",null==o.fg.controls.password.errors||null==o.fg.controls.password.errors.minLength?null:o.fg.controls.password.errors.minLength.message," ")}}function g(o,t){if(1&o&&(f.Ub(0,"small"),f.Dc(1),f.Tb()),2&o){const o=f.ec();f.Cb(1),f.Gc("",null==o.fg.controls.confirm_password.errors||null==o.fg.controls.confirm_password.errors.required?null:o.fg.controls.confirm_password.errors.required.message," ",null==o.fg.controls.confirm_password.errors||null==o.fg.controls.confirm_password.errors.compare?null:o.fg.controls.confirm_password.errors.compare.message," ")}}const h=[{path:":token",component:(()=>{class o{constructor(o,t,s,n,e,r,i,c,a,l,b){this.modalCtrl=o,this.translate=t,this.gs=s,this.router=n,this.fb=e,this.validatorSrv=r,this.userSrv=i,this.route=c,this.toastSrv=a,this.authSrv=l,this.navCtrl=b,this.showCurrPass=!1,this.showNewPass=!1,this.buildForm(),this.route.params.subscribe(o=>{this.checkForgotToken(o.token)})}ngOnInit(){}checkForgotToken(o){this.authSrv.checkForgotToken(o).then(t=>{if(t)this.fg.patchValue({token:o});else{const o=this.translate.get("INVALID_TOKEN");this.toastSrv.show(o),this.navigateToLogin()}}).catch(o=>{const t=this.gs.getErrorMessage(o);this.toastSrv.show(t)})}buildForm(){this.validatorSrv.validatorErrorMessage(),this.fg=this.fb.group({password:[null,[a.c.required(),a.c.minLength({value:5,message:`${this.translate.get("VALIDATOR_MIN")} 5`})]],confirm_password:[null,[a.c.required(),a.c.compare({fieldName:"password"})]],token:null})}setPassword(){this.fg.valid?this.userSrv.setPassword(this.fg.value).then(()=>{this.presentSuccessModal()}).catch(o=>{const t=this.gs.getErrorMessage(o);this.toastSrv.show(t)}):this.gs.markDirtyForm(this.fg)}presentSuccessModal(){return Object(c.a)(this,void 0,void 0,function*(){const o=yield this.modalCtrl.create({component:l.a,cssClass:"modal-info",componentProps:{title:this.translate.get("CHANGE_PASSWORD_SUCCESS_TITLE"),message:this.translate.get("CHANGE_PASSWORD_SUCCESS_MESSAGE"),btnText:this.translate.get("LOGIN")}});return o.onDidDismiss().then(()=>{this.navigateToLogin()}),yield o.present()})}navigateToLogin(){this.navCtrl.navigateRoot(["/login"])}}return o.\u0275fac=function(t){return new(t||o)(f.Ob(r.eb),f.Ob(b.a),f.Ob(d.c),f.Ob(i.g),f.Ob(e.d),f.Ob(d.d),f.Ob(u.m),f.Ob(i.a),f.Ob(d.e),f.Ob(d.a),f.Ob(r.fb))},o.\u0275cmp=f.Ib({type:o,selectors:[["app-set-password"]],decls:35,vars:25,consts:[[1,"ion-no-border"],["mode","ios"],["slot","start","mode","md"],["icon","chevron-back","defaultHref","/login/form"],[1,"ion-padding-top"],["size","12",1,"ion-no-padding"],[3,"formGroup","ngSubmit"],["changePassForm","ngForm"],["lines","none",1,"form-group"],["position","stacked"],["formControlName","password",1,"default-theme",3,"placeholder","type"],["size","small","slot","end",3,"name","click"],[4,"ngIf"],["formControlName","confirm_password",1,"default-theme",3,"placeholder","type"],[1,"ion-padding-bottom"],[1,"ion-padding"],["expand","full","shape","round","color","success",3,"click"]],template:function(o,t){if(1&o){const o=f.Vb();f.Ub(0,"ion-header",0),f.Ub(1,"ion-toolbar",1),f.Ub(2,"ion-buttons",2),f.Pb(3,"ion-back-button",3),f.Ub(4,"ion-title"),f.Dc(5),f.fc(6,"translate"),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Ub(7,"ion-content"),f.Ub(8,"ion-grid",4),f.Ub(9,"ion-row"),f.Ub(10,"ion-col",5),f.Ub(11,"form",6,7),f.cc("ngSubmit",function(){return t.setPassword()}),f.Ub(13,"ion-item",8),f.Ub(14,"ion-label",9),f.Dc(15),f.fc(16,"translate"),f.Tb(),f.Pb(17,"ion-input",10),f.fc(18,"translate"),f.Ub(19,"ion-icon",11),f.cc("click",function(){return t.showCurrPass=!t.showCurrPass}),f.Tb(),f.Bc(20,p,2,2,"small",12),f.Tb(),f.Ub(21,"ion-item",8),f.Ub(22,"ion-label",9),f.Dc(23),f.fc(24,"translate"),f.Tb(),f.Pb(25,"ion-input",13),f.fc(26,"translate"),f.Ub(27,"ion-icon",11),f.cc("click",function(){return t.showNewPass=!t.showNewPass}),f.Tb(),f.Bc(28,g,2,2,"small",12),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Ub(29,"ion-footer",0),f.Ub(30,"ion-row",14),f.Ub(31,"ion-col",15),f.Ub(32,"ion-button",16),f.cc("click",function(){return f.vc(o),f.uc(12).ngSubmit.emit()}),f.Dc(33),f.fc(34,"translate"),f.Tb(),f.Tb(),f.Tb(),f.Tb()}2&o&&(f.Cb(5),f.Ec(f.gc(6,13,"NEW_PASSWORD")),f.Cb(6),f.mc("formGroup",t.fg),f.Cb(4),f.Ec(f.gc(16,15,"NEW_PASSWORD")),f.Cb(2),f.nc("placeholder",f.gc(18,17,"NEW_PASSWORD")),f.mc("type",t.showCurrPass?"text":"password"),f.Cb(2),f.mc("name",t.showCurrPass?"eye-off-outline":"eye-outline"),f.Cb(1),f.mc("ngIf",t.fg.controls.password.dirty),f.Cb(3),f.Ec(f.gc(24,19,"VERIFY_NEW_PASSWORD")),f.Cb(2),f.nc("placeholder",f.gc(26,21,"VERIFY_NEW_PASSWORD")),f.mc("type",t.showNewPass?"text":"password"),f.Cb(2),f.mc("name",t.showNewPass?"eye-off-outline":"eye-outline"),f.Cb(1),f.mc("ngIf",t.fg.controls.confirm_password.dirty),f.Cb(5),f.Fc(" ",f.gc(34,23,"CHANGE_PASSWORD"),""))},directives:[r.t,r.bb,r.i,r.e,r.f,r.ab,r.p,r.s,r.K,r.o,e.y,e.q,e.i,r.y,r.C,r.x,r.mb,e.p,e.g,r.u,n.n,r.r,r.h],pipes:[m.a],styles:[""]}),o})()}];let w=(()=>{class o{}return o.\u0275mod=f.Mb({type:o}),o.\u0275inj=f.Lb({factory:function(t){return new(t||o)},imports:[[i.j.forChild(h)],i.j]}),o})();var T=s("PCNd");let C=(()=>{class o{}return o.\u0275mod=f.Mb({type:o}),o.\u0275inj=f.Lb({factory:function(t){return new(t||o)},imports:[[n.b,e.j,r.cb,w,T.a,e.v]]}),o})()},PCNd:function(o,t,s){"use strict";s.d(t,"a",function(){return r});var n=s("ofXK"),e=s("fXoL");let r=(()=>{class o{}return o.\u0275mod=e.Mb({type:o}),o.\u0275inj=e.Lb({factory:function(t){return new(t||o)},imports:[[n.b]]}),o})()},"PWI+":function(o,t,s){"use strict";s.d(t,"a",function(){return r});var n=s("fXoL"),e=s("TEn/");let r=(()=>{class o{constructor(o){this.modalCtrl=o}ngOnInit(){}dismiss(){this.modalCtrl.dismiss()}}return o.\u0275fac=function(t){return new(t||o)(n.Ob(e.eb))},o.\u0275cmp=n.Ib({type:o,selectors:[["app-modal-info"]],inputs:{title:"title",message:"message",btnText:"btnText"},decls:15,vars:3,consts:[[1,"ion-padding-top"],[1,"ion-text-center","ion-padding-horizontal"],[1,"modal-title"],[1,"ion-text-center","ion-padding-horizontal","ion-padding-top"],[1,"modal-message"],[1,"ion-padding-horizontal","ion-padding-bottom"],["expand","full","color","success","shape","round",3,"click"]],template:function(o,t){1&o&&(n.Ub(0,"ion-content"),n.Ub(1,"ion-grid"),n.Ub(2,"ion-row",0),n.Ub(3,"ion-col",1),n.Ub(4,"ion-text",2),n.Dc(5),n.Tb(),n.Tb(),n.Tb(),n.Ub(6,"ion-row"),n.Ub(7,"ion-col",3),n.Ub(8,"ion-text",4),n.Dc(9),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(10,"ion-footer"),n.Ub(11,"ion-row"),n.Ub(12,"ion-col",5),n.Ub(13,"ion-button",6),n.cc("click",function(){return t.dismiss()}),n.Dc(14),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&o&&(n.Cb(5),n.Ec(t.title),n.Cb(4),n.Ec(t.message),n.Cb(5),n.Fc(" ",t.btnText," "))},directives:[e.p,e.s,e.K,e.o,e.X,e.r,e.h],styles:[".modal-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.modal-message[_ngcontent-%COMP%]{font-size:14px}"]}),o})()}}]);