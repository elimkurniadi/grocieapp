!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function e(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[23,37,38,39],{F2Ao:function(t,o,i){"use strict";i.r(o),i.d(o,"BundlingPageModule",function(){return j});var r=i("ofXK"),c=i("3Pt+"),u=i("TEn/"),a=i("tyNb"),s=i("mrSG"),d=i("vczW"),l=i("axhS"),b=i("ZF+8"),p=i("LF58"),h=i("fXoL"),f=i("gq6x"),g=i("1rxE");function m(n,t){if(1&n&&(h.Ub(0,"ion-card-header",8),h.Pb(1,"img",28),h.Tb()),2&n){var e=h.ec();h.Cb(1),h.mc("src",null==e.bundling?null:e.bundling.image_url,h.xc)}}function v(n,t){if(1&n&&(h.Ub(0,"ion-col",29),h.Pb(1,"app-card-product",30),h.Tb()),2&n){var e=t.$implicit;h.Cb(1),h.mc("product",e)}}var P,w,T,y,x=((P=function(){function t(e,o,i,r,c,u){var a=this;n(this,t),this.router=e,this.route=o,this.bundlingSrv=i,this.productSrv=r,this.toastSrv=c,this.modalCtrl=u,this.route.params.subscribe(function(n){null!==n.id&&(a.id=n.id)}),this.productPage={row:24,page:1}}return e(t,[{key:"ngOnInit",value:function(){this.id&&(this.getBundlingDetail(),this.getProduct())}},{key:"searchProduct",value:function(){this.router.navigate(["/product","search"])}},{key:"getBundlingDetail",value:function(){var n=this;this.bundlingSrv.getDetail(this.id).then(function(t){n.bundling=t.response}).catch(function(t){n.toastSrv.show(t.error.error.message)})}},{key:"getProduct",value:function(){var n=this,t=null,e=null;this.order&&this.order.orderBy&&(t=this.order),this.filter&&this.filter.min_price&&(e=this.filter),this.productSrv.getListByBundling(this.id,this.productPage,t,e).then(function(t){var e=t.response.rows;n.productCount=t.response.count,n.products&&n.products.length?n.products.concat(e):n.products=e}).catch(function(t){n.toastSrv.show(t.error.error.message)})}},{key:"loadMoreProduct",value:function(n){var t=this;setTimeout(function(){n.target.complete(),t.productPage.page>=Math.ceil(t.productCount/t.productPage.row)?n.target.disabled=!0:(t.productPage.page+=1,t.getProduct())},600)}},{key:"showFilter",value:function(){var n,t;return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var o,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:d.a,cssClass:"modal-filter-product",componentProps:{minPrice:null===(n=this.filter)||void 0===n?void 0:n.min_price,maxPrice:null===(t=this.filter)||void 0===t?void 0:t.max_price}});case 2:return(o=e.sent).onDidDismiss().then(function(n){var t=n.data;t&&(i.filter={min_price:t.minPrice,max_price:t.maxPrice},i.refreshProduct())}),e.next=6,o.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}))}},{key:"showSort",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t,e=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalCtrl.create({component:l.a,cssClass:"modal-sort-product",componentProps:{option:this.sort}});case 2:return(t=n.sent).onDidDismiss().then(function(n){var t,o,i=n.data;i&&(e.sort=i.value,e.order={orderBy:null===(t=i.order)||void 0===t?void 0:t.orderBy,orderType:null===(o=i.order)||void 0===o?void 0:o.orderType},e.refreshProduct())}),n.next=6,t.present();case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}},n,this)}))}},{key:"refreshProduct",value:function(){this.productPage.page=1,this.products=[],this.getProduct()}}]),t}()).\u0275fac=function(n){return new(n||P)(h.Ob(a.g),h.Ob(a.a),h.Ob(p.e),h.Ob(p.j),h.Ob(b.e),h.Ob(u.eb))},P.\u0275cmp=h.Ib({type:P,selectors:[["app-bundling-detail"]],decls:40,vars:13,consts:[[1,"ion-no-border"],["mode","ios"],["mode","md",1,"ion-text-center"],["icon","chevron-back","defaultHref","/tabs/home","icon","chevron-back-outline"],[1,"header-title"],["slot","end"],[3,"click"],["name","search",1,"header-action-size"],[1,"ion-no-padding"],[1,"ion-no-border","ion-no-margin"],["class","ion-no-padding",4,"ngIf"],[1,"ion-no-padding","ion-text-left"],[1,"ion-padding-horizontal","ion-padding-top"],["size","12",1,"truncate"],[1,"bundling-title"],["size","12"],[1,"bundling-desc"],["size","4","class","ion-padding-horizontal",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles"],["color","light",3,"translucent","mode"],[2,"background","white"],[1,"ion-align-items-center"],["size","6",1,"ion-text-center",2,"border-right","1px solid #99cc33"],["color","success",3,"click"],["name","funnel"],["size","6",1,"ion-text-center",2,"border-left","1px solid #99cc33"],["name","filter"],[1,"img-banner",3,"src"],["size","4",1,"ion-padding-horizontal"],[3,"product"]],template:function(n,t){1&n&&(h.Ub(0,"ion-header",0),h.Ub(1,"ion-toolbar",1),h.Ub(2,"ion-buttons",2),h.Pb(3,"ion-back-button",3),h.Tb(),h.Ub(4,"ion-title",4),h.Dc(5),h.Tb(),h.Ub(6,"ion-buttons",5),h.Ub(7,"ion-button",6),h.cc("click",function(){return t.searchProduct()}),h.Pb(8,"ion-icon",7),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Ub(9,"ion-content"),h.Ub(10,"ion-grid",8),h.Ub(11,"ion-row",8),h.Ub(12,"ion-col"),h.Ub(13,"ion-card",9),h.Bc(14,m,2,1,"ion-card-header",10),h.Ub(15,"ion-card-content",11),h.Ub(16,"ion-row",12),h.Ub(17,"ion-col",13),h.Ub(18,"ion-text",14),h.Dc(19),h.Tb(),h.Tb(),h.Ub(20,"ion-col",15),h.Ub(21,"ion-text",16),h.Dc(22),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Ub(23,"ion-row"),h.Bc(24,v,2,1,"ion-col",17),h.Tb(),h.Tb(),h.Ub(25,"ion-infinite-scroll",18),h.cc("ionInfinite",function(n){return t.loadMoreProduct(n)}),h.Pb(26,"ion-infinite-scroll-content",19),h.Tb(),h.Tb(),h.Ub(27,"ion-footer",20),h.Ub(28,"ion-grid",21),h.Ub(29,"ion-row",22),h.Ub(30,"ion-col",23),h.Ub(31,"ion-text",24),h.cc("click",function(){return t.showSort()}),h.Pb(32,"ion-icon",25),h.Dc(33),h.fc(34,"translate"),h.Tb(),h.Tb(),h.Ub(35,"ion-col",26),h.Ub(36,"ion-text",24),h.cc("click",function(){return t.showFilter()}),h.Pb(37,"ion-icon",27),h.Dc(38),h.fc(39,"translate"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb()),2&n&&(h.Cb(5),h.Ec(null==t.bundling?null:t.bundling.name),h.Cb(9),h.mc("ngIf",null==t.bundling?null:t.bundling.image_url),h.Cb(5),h.Fc("",null==t.bundling?null:t.bundling.name," "),h.Cb(3),h.Fc(" ",null==t.bundling?null:t.bundling.description," "),h.Cb(2),h.mc("ngForOf",t.products),h.Cb(3),h.mc("translucent",!1)("mode","md"),h.Cb(6),h.Fc(" ",h.gc(34,9,"SORT")," "),h.Cb(5),h.Fc(" ",h.gc(39,11,"FILTER")," "))},directives:[u.t,u.bb,u.i,u.e,u.f,u.ab,u.h,u.u,u.p,u.s,u.K,u.o,u.j,r.n,u.k,u.X,r.m,u.v,u.w,u.r,u.l,f.a],pipes:[g.a],styles:[".img-header[_ngcontent-%COMP%]{width:100%;height:120px;border-radius:8px;-o-object-fit:cover;object-fit:cover}.bundling-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;line-height:1.19;letter-spacing:normal;color:#0f447a}.img-banner[_ngcontent-%COMP%]{width:100%;height:16vh;-o-object-fit:cover;object-fit:cover}ion-header[_ngcontent-%COMP%]{border:none}"]}),P),U=[{path:"",component:(w=function(){function t(){n(this,t)}return e(t,[{key:"ngOnInit",value:function(){}}]),t}(),w.\u0275fac=function(n){return new(n||w)},w.\u0275cmp=h.Ib({type:w,selectors:[["app-bundling"]],decls:1,vars:0,template:function(n,t){1&n&&h.Pb(0,"ion-router-outlet")},directives:[u.J],styles:[""]}),w),children:[{path:":id/detail",component:x}]}],C=((T=function t(){n(this,t)}).\u0275mod=h.Mb({type:T}),T.\u0275inj=h.Lb({factory:function(n){return new(n||T)},imports:[[a.j.forChild(U)],a.j]}),T),k=i("CNc/"),O=i("PCNd"),j=((y=function t(){n(this,t)}).\u0275mod=h.Mb({type:y}),y.\u0275inj=h.Lb({factory:function(n){return new(n||y)},imports:[[r.b,c.j,u.cb,C,k.a,O.a]]}),y)},PCNd:function(t,e,o){"use strict";o.d(e,"a",function(){return c});var i=o("ofXK"),r=o("fXoL"),c=function(){var t=function t(){n(this,t)};return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(n){return new(n||t)},imports:[[i.b]]}),t}()}}])}();