!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function e(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[18,37,38,39],{CVNF:function(n,o,r){"use strict";r.r(o),r.d(o,"MyOrderPageModule",function(){return W});var i=r("ofXK"),c=r("3Pt+"),a=r("TEn/"),l=r("tyNb"),s=r("ZF+8"),b=r("aPai"),u=r("LF58"),d=r("fXoL"),f=r("D8Hp"),g=r("1rxE"),h=function(t,n){return{"status-line":t,green:n}},p=function(t){return{green:t}},m=function(t,n){return{"status-line-right":t,green:n}};function T(t,n){if(1&t&&(d.Ub(0,"ion-col",26),d.Pb(1,"div",27),d.Ub(2,"div",28),d.Pb(3,"img",29),d.Tb(),d.Pb(4,"div",27),d.Tb()),2&t){var e=n.$implicit,o=n.index,r=d.ec();d.nc("size",12/(null==r.transactionStatus?null:r.transactionStatus.length)),d.Cb(1),d.mc("ngClass",d.sc(5,h,0!=o,null==e?null:e.active)),d.Cb(2),d.nc("src","assets/images/"+(null==e?null:e.name)+".svg",d.xc),d.mc("ngClass",d.rc(8,p,null==e?null:e.active)),d.Cb(1),d.mc("ngClass",d.sc(10,m,o!=r.transactionStatus.length-1,1==(null==r.transactionStatus[o+1]?null:r.transactionStatus[o+1].active)))}}function v(t,n){if(1&t&&(d.Ub(0,"ion-col",30),d.Ub(1,"ion-text",31),d.Dc(2),d.fc(3,"translate"),d.Tb(),d.Tb()),2&t){var e=n.$implicit,o=d.ec();d.nc("size",12/(null==o.transactionStatus?null:o.transactionStatus.length)),d.Cb(1),d.mc("ngClass",d.rc(5,p,null==e?null:e.active)),d.Cb(1),d.Fc(" ",d.gc(3,3,null==e?null:e.name)," ")}}function C(t,n){if(1&t&&(d.Ub(0,"ion-row"),d.Ub(1,"ion-col",16),d.Ub(2,"ion-text",21),d.Dc(3),d.fc(4,"translate"),d.Tb(),d.Tb(),d.Ub(5,"ion-col",18),d.Ub(6,"ion-text",19),d.Dc(7),d.fc(8,"number"),d.Tb(),d.Tb(),d.Tb()),2&t){var e=d.ec();d.Cb(3),d.Fc(" ",d.gc(4,2,"SERVICE_FEE")," "),d.Cb(4),d.Fc(" Rp. ",d.gc(8,4,null==e.order?null:e.order.service_fee)," ")}}function U(t,n){if(1&t&&(d.Ub(0,"ion-row"),d.Ub(1,"ion-col",16),d.Ub(2,"ion-text",32),d.Dc(3),d.fc(4,"translate"),d.Tb(),d.Tb(),d.Ub(5,"ion-col",18),d.Ub(6,"ion-text",33),d.Dc(7),d.fc(8,"currency"),d.Tb(),d.Tb(),d.Tb()),2&t){var e=d.ec();d.Cb(3),d.Fc(" ",d.gc(4,2,"SAVING")," "),d.Cb(4),d.Fc("- ",d.jc(8,4,null==e.order?null:e.order.product_discount,"Rp. ","symbol","1.0-0")," ")}}function y(t,n){if(1&t&&(d.Ub(0,"ion-row"),d.Ub(1,"ion-col",16),d.Ub(2,"ion-text",34),d.Dc(3),d.fc(4,"translate"),d.Tb(),d.Tb(),d.Ub(5,"ion-col",18),d.Ub(6,"ion-text",35),d.Dc(7),d.fc(8,"currency"),d.Tb(),d.Tb(),d.Tb()),2&t){var e=d.ec();d.Cb(3),d.Fc(" ",d.gc(4,2,"PROMO")+" ( "+(null==e.order?null:e.order.voucher_code)+" )"," "),d.Cb(4),d.Fc("- ",d.jc(8,4,null==e.order?null:e.order.voucher_discount,"Rp. ","symbol","1.0-0")," ")}}function _(t,n){1&t&&(d.Ub(0,"ion-row"),d.Ub(1,"ion-col"),d.Ub(2,"ion-text",6),d.Dc(3),d.fc(4,"translate"),d.Tb(),d.Tb(),d.Tb()),2&t&&(d.Cb(3),d.Fc(" ",d.gc(4,1,"ESTIMATED_ARRIVAL")," "))}function x(t,n){if(1&t&&(d.Ub(0,"ion-row"),d.Ub(1,"ion-col"),d.Ub(2,"ion-text",36),d.Dc(3),d.fc(4,"date"),d.Tb(),d.Pb(5,"br"),d.Ub(6,"ion-text",36),d.Dc(7),d.Tb(),d.Tb(),d.Tb()),2&t){var e=d.ec();d.Cb(3),d.Fc(" ",d.hc(4,2,null==e.order?null:e.order.shipping_date,"EEEE, d MMM yyyy")," "),d.Cb(4),d.Fc(" ",null==e.order?null:e.order.shipping_time," ")}}function O(t,n){if(1&t){var e=d.Vb();d.Ub(0,"ion-button",40),d.cc("click",function(){return d.vc(e),d.ec(2).uploadProof()}),d.Dc(1),d.fc(2,"translate"),d.Tb()}2&t&&(d.Cb(1),d.Fc(" ",d.gc(2,1,"UPLOAD_PAYMENT_PROOF")," "))}function P(t,n){1&t&&d.Pb(0,"ion-spinner",43)}function D(t,n){if(1&t){var e=d.Vb();d.Ub(0,"ion-button",41),d.cc("click",function(){return d.vc(e),d.ec(2).pay()}),d.Dc(1),d.fc(2,"translate"),d.Bc(3,P,1,0,"ion-spinner",42),d.Tb()}if(2&t){var o=d.ec(2);d.mc("disabled",o.isOnFetch),d.Cb(1),d.Fc(" ",d.gc(2,3,"PROCEED_PAYMENT")," "),d.Cb(2),d.mc("ngIf",o.isOnFetch)}}function w(t,n){if(1&t&&(d.Ub(0,"ion-row",37),d.Ub(1,"ion-col"),d.Bc(2,O,3,3,"ion-button",38),d.Bc(3,D,4,5,"ion-button",39),d.Tb(),d.Tb()),2&t){var e=d.ec();d.Cb(2),d.mc("ngIf",2===(null==e.order?null:e.order.payment_method_id)),d.Cb(1),d.mc("ngIf",1===(null==e.order?null:e.order.payment_method_id))}}var M,k=((M=function(){function n(e,o,r,i,c,a){t(this,n),this.cartSrv=e,this.transactionSrv=o,this.activatedRoute=r,this.router=i,this.browserSrv=c,this.gs=a,this.totalPrice=0,this.isOnFetch=!1}return e(n,[{key:"ngOnInit",value:function(){this.observeParam()}},{key:"ionViewDidEnter",value:function(){this.observeFetchState()}},{key:"observeFetchState",value:function(){var t=this;this.gs.observeOnFetch().subscribe(function(n){t.isOnFetch=n})}},{key:"observeParam",value:function(){var t=this;this.activatedRoute.params.subscribe(function(n){t.orderId=null==n?void 0:n.id,t.fetchTransactionDetail(),t.fetchTransactionStatus()})}},{key:"fetchCartList",value:function(){var t=this;this.cartSrv.getCartList().then(function(n){n.forEach(function(t){var n,e=(null==t?void 0:t.quantity)*+(null===(n=null==t?void 0:t.product)||void 0===n?void 0:n.primary_price);Object.assign(t,{local_subtotal_price:e})}),t.itemList=n,t.initTotalPrice()})}},{key:"initTotalPrice",value:function(){var t=this;this.cartSrv.calculateSumPrice(this.itemList).then(function(n){t.totalPrice=n})}},{key:"fetchTransactionDetail",value:function(){var t=this;this.transactionSrv.getTransactionDetail(this.orderId).then(function(n){t.order=n})}},{key:"fetchTransactionStatus",value:function(){var t=this;this.transactionSrv.getTransactionStatus(this.orderId).then(function(n){t.transactionStatus=n})}},{key:"uploadProof",value:function(){this.router.navigate(["/payment",this.orderId,"proof"])}},{key:"pay",value:function(){this.browserSrv.openBrowser({url:this.order.payment_url})}}]),n}()).\u0275fac=function(t){return new(t||M)(d.Ob(u.f),d.Ob(u.l),d.Ob(l.a),d.Ob(l.g),d.Ob(b.a),d.Ob(s.c))},M.\u0275cmp=d.Ib({type:M,selectors:[["app-my-order-detail"]],decls:123,vars:78,consts:[[1,"ion-no-border"],["mode","ios"],["mode","md",1,"ion-text-center"],["defaultHref","/my-order","icon","chevron-back-outline"],[3,"fullscreen"],[1,"ion-text-left"],[1,"order-label"],[1,"order-value"],[1,"ion-text-right"],["color","success",1,"order-value","price"],["class","padding-status-col",3,"size",4,"ngFor","ngForOf"],["class","padding-status-col ion-text-center",3,"size",4,"ngFor","ngForOf"],["size","5"],["size","7",1,"ion-text-right"],[3,"showSubstract","cartData"],[1,"divider"],["size","6"],[1,"summary-label","black"],["size","6",1,"ion-text-right"],[1,"summary-value"],[4,"ngIf"],[1,"summary-label"],[1,"text-address-info"],[1,"summary-value","large"],[1,"address-label"],["class","ion-padding",4,"ngIf"],[1,"padding-status-col",3,"size"],[3,"ngClass"],[1,"status-bg","center"],[1,"status-img",3,"src","ngClass"],[1,"padding-status-col","ion-text-center",3,"size"],[1,"order-status",3,"ngClass"],[1,"summary-label","orange"],["color","secondary",1,"summary-value","orange"],[1,"summary-label","green"],["color","success",1,"summary-value","green"],[1,"order-delivery-date"],[1,"ion-padding"],["color","success","shape","round","expand","block",3,"click",4,"ngIf"],["color","success","shape","round","expand","block",3,"disabled","click",4,"ngIf"],["color","success","shape","round","expand","block",3,"click"],["color","success","shape","round","expand","block",3,"disabled","click"],["name","dots","color","dark",4,"ngIf"],["name","dots","color","dark"]],template:function(t,n){1&t&&(d.Ub(0,"ion-header",0),d.Ub(1,"ion-toolbar",1),d.Ub(2,"ion-buttons",2),d.Pb(3,"ion-back-button",3),d.Tb(),d.Ub(4,"ion-title"),d.Dc(5),d.fc(6,"translate"),d.Tb(),d.Tb(),d.Tb(),d.Ub(7,"ion-content",4),d.Ub(8,"ion-card"),d.Ub(9,"ion-card-content"),d.Ub(10,"ion-row"),d.Ub(11,"ion-col",5),d.Ub(12,"ion-text",6),d.Dc(13),d.fc(14,"translate"),d.Tb(),d.Pb(15,"br"),d.Ub(16,"ion-text",7),d.Dc(17),d.Tb(),d.Tb(),d.Ub(18,"ion-col",8),d.Ub(19,"ion-text",6),d.Dc(20),d.fc(21,"translate"),d.Tb(),d.Pb(22,"br"),d.Ub(23,"ion-text",7),d.Dc(24),d.fc(25,"date"),d.Tb(),d.Tb(),d.Tb(),d.Ub(26,"ion-row"),d.Ub(27,"ion-col",5),d.Ub(28,"ion-text",6),d.Dc(29),d.fc(30,"translate"),d.Tb(),d.Pb(31,"br"),d.Ub(32,"ion-text",7),d.Dc(33),d.fc(34,"translate"),d.Tb(),d.Tb(),d.Ub(35,"ion-col",8),d.Ub(36,"ion-text",6),d.Dc(37),d.fc(38,"translate"),d.Tb(),d.Pb(39,"br"),d.Ub(40,"ion-text",9),d.Dc(41),d.fc(42,"number"),d.Tb(),d.Tb(),d.Tb(),d.Ub(43,"ion-row"),d.Bc(44,T,5,13,"ion-col",10),d.Tb(),d.Ub(45,"ion-row"),d.Bc(46,v,4,7,"ion-col",11),d.Tb(),d.Tb(),d.Tb(),d.Ub(47,"ion-card"),d.Ub(48,"ion-card-content"),d.Ub(49,"ion-row"),d.Ub(50,"ion-col",12),d.Ub(51,"ion-text",6),d.Dc(52),d.fc(53,"translate"),d.Tb(),d.Tb(),d.Ub(54,"ion-col",13),d.Ub(55,"ion-text",7),d.Dc(56),d.fc(57,"translate"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(58,"ion-card"),d.Ub(59,"ion-card-content"),d.Ub(60,"ion-row"),d.Ub(61,"ion-col"),d.Ub(62,"ion-text",6),d.Dc(63),d.fc(64,"translate"),d.Tb(),d.Tb(),d.Tb(),d.Ub(65,"ion-row"),d.Ub(66,"ion-col"),d.Pb(67,"app-item-list",14),d.Tb(),d.Tb(),d.Pb(68,"div",15),d.Ub(69,"ion-row"),d.Ub(70,"ion-col",16),d.Ub(71,"ion-text",17),d.Dc(72),d.fc(73,"translate"),d.Tb(),d.Tb(),d.Ub(74,"ion-col",18),d.Ub(75,"ion-text",19),d.Dc(76),d.fc(77,"number"),d.Tb(),d.Tb(),d.Tb(),d.Bc(78,C,9,6,"ion-row",20),d.Bc(79,U,9,9,"ion-row",20),d.Ub(80,"ion-row"),d.Ub(81,"ion-col",16),d.Ub(82,"ion-text",21),d.Dc(83),d.fc(84,"translate"),d.Tb(),d.Tb(),d.Ub(85,"ion-col",18),d.Ub(86,"ion-text",19),d.Dc(87),d.fc(88,"currency"),d.Tb(),d.Tb(),d.Tb(),d.Bc(89,y,9,9,"ion-row",20),d.Pb(90,"div",15),d.Ub(91,"ion-row"),d.Ub(92,"ion-col",16),d.Ub(93,"ion-text",22),d.Dc(94),d.fc(95,"translate"),d.Tb(),d.Tb(),d.Ub(96,"ion-col",18),d.Ub(97,"ion-text",23),d.Dc(98),d.fc(99,"currency"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(100,"ion-card"),d.Ub(101,"ion-card-content"),d.Ub(102,"ion-row"),d.Ub(103,"ion-col"),d.Ub(104,"ion-text",6),d.Dc(105),d.fc(106,"translate"),d.Tb(),d.Tb(),d.Tb(),d.Ub(107,"ion-row"),d.Ub(108,"ion-col"),d.Ub(109,"ion-text",22),d.Dc(110),d.Tb(),d.Pb(111,"br"),d.Ub(112,"ion-text",24),d.Dc(113),d.Tb(),d.Pb(114,"br"),d.Ub(115,"ion-text",24),d.Dc(116),d.Tb(),d.Pb(117,"br"),d.Ub(118,"ion-text",24),d.Dc(119),d.Tb(),d.Tb(),d.Tb(),d.Bc(120,_,5,3,"ion-row",20),d.Bc(121,x,8,5,"ion-row",20),d.Tb(),d.Tb(),d.Bc(122,w,4,2,"ion-row",25),d.Tb()),2&t&&(d.Cb(5),d.Ec(d.gc(6,34,"ORDER_DETAIL")),d.Cb(2),d.mc("fullscreen",!0),d.Cb(6),d.Fc(" ",d.gc(14,36,"ORDER_ID")," "),d.Cb(4),d.Fc(" ",null==n.order?null:n.order.transaction_code," "),d.Cb(3),d.Fc(" ",d.gc(21,38,"ORDER_DATE")," "),d.Cb(4),d.Fc(" ",d.hc(25,40,null==n.order?null:n.order.created_at,"d MMM yyyy HH:mm")," "),d.Cb(5),d.Fc(" ",d.gc(30,43,"ORDER_STATUS")," "),d.Cb(4),d.Fc(" ",d.gc(34,45,null==n.order||null==n.order.transaction_status?null:n.order.transaction_status.name)," "),d.Cb(4),d.Fc(" ",d.gc(38,47,"TOTAL_PAYMENT")," "),d.Cb(4),d.Fc(" Rp ",d.hc(42,49,null==n.order?null:n.order.total_price,"1.0-0")," "),d.Cb(3),d.mc("ngForOf",n.transactionStatus),d.Cb(2),d.mc("ngForOf",n.transactionStatus),d.Cb(6),d.Fc(" ",d.gc(53,52,"PAYMENT_METHOD")," "),d.Cb(4),d.Fc(" ",d.gc(57,54,null==n.order||null==n.order.payment_method?null:n.order.payment_method.name)," "),d.Cb(7),d.Fc(" ",d.gc(64,56,"ORDER_DETAIL"),""),d.Cb(4),d.mc("showSubstract",!1)("cartData",null==n.order?null:n.order.products),d.Cb(5),d.Fc(" ",d.gc(73,58,"SUBTOTAL")," "),d.Cb(4),d.Fc(" Rp. ",d.gc(77,60,null==n.order?null:n.order.original_price)," "),d.Cb(2),d.mc("ngIf",+(null==n.order?null:n.order.service_fee)>0),d.Cb(1),d.mc("ngIf",+(null==n.order?null:n.order.product_discount)>0),d.Cb(4),d.Fc(" ",d.gc(84,62,"DELIVERY_FEE")," "),d.Cb(4),d.Fc(" ",d.jc(88,64,null==n.order?null:n.order.delivery_fee,"Rp. ","symbol","1.0-0")," "),d.Cb(2),d.mc("ngIf",+(null==n.order?null:n.order.voucher_discount)>0),d.Cb(5),d.Fc(" ",d.gc(95,69,"TOTAL_PAYMENT")," "),d.Cb(4),d.Ec(d.jc(99,71,null==n.order?null:n.order.total_price,"Rp. ","symbol","1.0-0")),d.Cb(7),d.Fc(" ",d.gc(106,76,"RECIPIENT_ADDRESS")," "),d.Cb(5),d.Fc("",null==n.order||null==n.order.address?null:n.order.address.address_name," "),d.Cb(3),d.Ec(null==n.order||null==n.order.address?null:n.order.address.address_detail),d.Cb(3),d.Ec(null==n.order||null==n.order.address?null:n.order.address.formatted_address),d.Cb(3),d.Fc(" ",null==n.order||null==n.order.address?null:n.order.address.phone," "),d.Cb(1),d.mc("ngIf",null==n.order?null:n.order.shipping_date),d.Cb(1),d.mc("ngIf",null==n.order?null:n.order.shipping_date),d.Cb(1),d.mc("ngIf",1==(null==n.order||null==n.order.transaction_status?null:n.order.transaction_status.transaction_status_id)))},directives:[a.t,a.bb,a.i,a.e,a.f,a.ab,a.p,a.j,a.k,a.K,a.o,a.X,i.m,f.a,i.n,i.l,a.h,a.T],pipes:[g.a,i.e,i.f,i.c],styles:[".status-bg[_ngcontent-%COMP%]{width:28px;height:28px;border:1px solid var(--ion-color-pinkish-gray);display:flex;justify-content:center;border-radius:50%}.status-bg.success[_ngcontent-%COMP%]{border:1px solid var(--ion-color-success)}.status-bg.center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.status-line[_ngcontent-%COMP%], .status-line-right[_ngcontent-%COMP%]{width:28%;border-bottom:1px solid var(--ion-color-pinkish-gray);line-height:.1em;margin:13px 0;position:absolute}.status-line-right[_ngcontent-%COMP%]{top:5px;right:0}.status-line-right.success[_ngcontent-%COMP%], .status-line.success[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-success)}.status-line-right.first[_ngcontent-%COMP%], .status-line.first[_ngcontent-%COMP%]{width:45%}.status-img[_ngcontent-%COMP%]{width:14px;display:block;margin:auto}.padding-status-col[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.order-label[_ngcontent-%COMP%]{font-size:10px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.2;letter-spacing:normal;color:#353535}.summary-label[_ngcontent-%COMP%]{font-size:14px;line-height:1.17;color:#262626}.summary-label.black[_ngcontent-%COMP%]{color:#353535}.summary-label.black.strong[_ngcontent-%COMP%], .summary-value[_ngcontent-%COMP%]{font-weight:600}.summary-value[_ngcontent-%COMP%]{font-size:14px;line-height:1.17;color:#353535}.summary-value.large[_ngcontent-%COMP%]{font-size:16px}.green[_ngcontent-%COMP%]{filter:brightness(0) saturate(100%) invert(90%) sepia(32%) saturate(973%) hue-rotate(22deg) brightness(83%) contrast(90%);color:#9c3!important}.orange[_ngcontent-%COMP%]{color:var(--ion-color-secondary)!important}.address-label[_ngcontent-%COMP%]{font-size:10px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.2;letter-spacing:normal;color:#262626}.order-value[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:1.17;letter-spacing:normal;color:#353535}.order-value.price[_ngcontent-%COMP%]{color:#9c3;font-weight:700}.btn-action[_ngcontent-%COMP%]{text-transform:capitalize}ion-button[_ngcontent-%COMP%]{font-size:11px;font-weight:600;line-height:1.2;--padding-top:8px;--padding-bottom:8px}.order-status[_ngcontent-%COMP%]{font-size:10px;font-weight:600;color:#353535}.order-delivery-date[_ngcontent-%COMP%]{line-height:1.33}.order-delivery-date[_ngcontent-%COMP%], .text-address-info[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#353535}.text-address-info[_ngcontent-%COMP%]{line-height:1.17}.text-address-detail[_ngcontent-%COMP%]{font-weight:400;font-stretch:normal;font-style:normal;line-height:1.33}.text-address-detail[_ngcontent-%COMP%], .text-payment-info[_ngcontent-%COMP%]{font-size:14px;letter-spacing:normal;color:#353535}.text-payment-info[_ngcontent-%COMP%]{line-height:1.17}.text-payment-price[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:1.17;color:#353535}.divider[_ngcontent-%COMP%]{border:.5px solid #e5e5e5;height:2px;margin-top:0}"]}),M),F=r("mrSG"),E=r("5zh3"),R=r("H98O");function S(t,n){if(1&t){var e=d.Vb();d.Ub(0,"ion-button",8),d.cc("click",function(){d.vc(e);var t=d.ec();return t.presentConfirmModal(t.order)}),d.Dc(1),d.fc(2,"translate"),d.Tb()}2&t&&(d.Cb(1),d.Fc(" ",d.gc(2,1,"ORDER_ARRIVED")," "))}var I,A=((I=function(){function n(e,o,r,i,c){t(this,n),this.modalCtrl=e,this.translate=o,this.router=r,this.transactionSrv=i,this.toastSrv=c}return e(n,[{key:"ngOnInit",value:function(){}},{key:"presentConfirmModal",value:function(t){return Object(F.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var e,o=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalCtrl.create({component:E.a,cssClass:"modal-confirm",componentProps:{title:this.translate.get("ORDER_ARRIVED"),message:this.translate.get("ORDER_ARRIVED_MESSAGE")}});case 2:return(e=n.sent).onDidDismiss().then(function(n){var e=n.data;e&&e.confirm&&o.confirmArrived(null==t?void 0:t.transaction_id)}),n.next=6,e.present();case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}},n,this)}))}},{key:"goToDetail",value:function(t){this.router.navigate(["/my-order",t,"detail"])}},{key:"confirmArrived",value:function(t){var n=this;this.transactionSrv.confirmOrder(t).then(function(e){n.router.navigate(["/my-order",t,"detail"])}).catch(function(t){n.toastSrv.show(t.error.error.message)})}}]),n}()).\u0275fac=function(t){return new(t||I)(d.Ob(a.eb),d.Ob(R.a),d.Ob(l.g),d.Ob(u.l),d.Ob(s.e))},I.\u0275cmp=d.Ib({type:I,selectors:[["app-card-order"]],inputs:{order:"order"},decls:49,vars:32,consts:[[1,"ion-text-left"],[1,"order-label"],[1,"order-value"],[1,"ion-text-right"],[1,"order-value","price"],["size","12"],["expand","full","shape","round","color","success",1,"btn-action",3,"click"],["expand","full","shape","round","color","success","class","btn-action","fill","outline",3,"click",4,"ngIf"],["expand","full","shape","round","color","success","fill","outline",1,"btn-action",3,"click"]],template:function(t,n){1&t&&(d.Ub(0,"ion-card"),d.Ub(1,"ion-card-content"),d.Ub(2,"ion-row"),d.Ub(3,"ion-col",0),d.Ub(4,"ion-text",1),d.Dc(5),d.fc(6,"translate"),d.Tb(),d.Pb(7,"br"),d.Ub(8,"ion-text",2),d.Dc(9),d.Tb(),d.Tb(),d.Ub(10,"ion-col",3),d.Ub(11,"ion-text",1),d.Dc(12),d.fc(13,"translate"),d.Tb(),d.Pb(14,"br"),d.Ub(15,"ion-text",2),d.Dc(16),d.fc(17,"date"),d.Tb(),d.Tb(),d.Tb(),d.Ub(18,"ion-row"),d.Ub(19,"ion-col",0),d.Ub(20,"ion-text",1),d.Dc(21),d.fc(22,"translate"),d.Tb(),d.Pb(23,"br"),d.Ub(24,"ion-text",2),d.Dc(25),d.fc(26,"translate"),d.Tb(),d.Tb(),d.Ub(27,"ion-col",3),d.Ub(28,"ion-text",1),d.Dc(29),d.fc(30,"translate"),d.Tb(),d.Pb(31,"br"),d.Ub(32,"ion-text",2),d.Dc(33),d.Tb(),d.Tb(),d.Tb(),d.Ub(34,"ion-row"),d.Ub(35,"ion-col",0),d.Ub(36,"ion-text",1),d.Dc(37),d.fc(38,"translate"),d.Tb(),d.Pb(39,"br"),d.Ub(40,"ion-text",4),d.Dc(41),d.fc(42,"number"),d.Tb(),d.Tb(),d.Tb(),d.Ub(43,"ion-row"),d.Ub(44,"ion-col",5),d.Ub(45,"ion-button",6),d.cc("click",function(){return n.goToDetail(null==n.order?null:n.order.transaction_id)}),d.Dc(46),d.fc(47,"translate"),d.Tb(),d.Bc(48,S,3,3,"ion-button",7),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&t&&(d.Cb(5),d.Fc(" ",d.gc(6,12,"ORDER_ID")," "),d.Cb(4),d.Fc(" ",null==n.order?null:n.order.transaction_code," "),d.Cb(3),d.Fc(" ",d.gc(13,14,"ORDER_DATE")," "),d.Cb(4),d.Fc(" ",d.hc(17,16,null==n.order?null:n.order.created_at,"d MMM yyyy HH:mm")," "),d.Cb(5),d.Fc(" ",d.gc(22,19,"ORDER_STATUS")," "),d.Cb(4),d.Fc(" ",d.gc(26,21,null==n.order||null==n.order.transaction_status?null:n.order.transaction_status.name)," "),d.Cb(4),d.Fc(" ",d.gc(30,23,"PAYMENT_METHOD")," "),d.Cb(4),d.Fc(" ",null==n.order||null==n.order.payment_method?null:n.order.payment_method.name," "),d.Cb(4),d.Fc(" ",d.gc(38,25,"TOTAL_PAYMENT")," "),d.Cb(4),d.Fc(" Rp ",d.hc(42,27,null==n.order?null:n.order.total_price,"1.0-0")," "),d.Cb(5),d.Fc(" ",d.gc(47,30,"SEE_DETAIL")," "),d.Cb(2),d.mc("ngIf",4===(null==n.order||null==n.order.transaction_status?null:n.order.transaction_status.transaction_status_id)))},directives:[a.j,a.k,a.K,a.o,a.X,a.h,i.n],pipes:[g.a,i.e,i.f],styles:[".order-label[_ngcontent-%COMP%]{font-size:10px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.2}.order-label[_ngcontent-%COMP%], .order-value[_ngcontent-%COMP%]{letter-spacing:normal;color:#353535}.order-value[_ngcontent-%COMP%]{font-size:12px;font-weight:600;line-height:1.17}.order-value.price[_ngcontent-%COMP%]{color:#9c3}.btn-action[_ngcontent-%COMP%]{text-transform:capitalize}ion-button[_ngcontent-%COMP%]{font-size:11px;font-weight:600;line-height:1.2;--padding-top:8px;--padding-bottom:8px}"]}),I);function z(t,n){if(1&t&&(d.Ub(0,"ion-row"),d.Ub(1,"ion-col"),d.Pb(2,"app-card-order",12),d.Tb(),d.Tb()),2&t){var e=n.$implicit;d.Cb(2),d.mc("order",e)}}function L(t,n){if(1&t&&(d.Ub(0,"ion-row"),d.Ub(1,"ion-col"),d.Pb(2,"app-card-order",12),d.Tb(),d.Tb()),2&t){var e=n.$implicit;d.Cb(2),d.mc("order",e)}}var B,j,V,N,H=((B=function(){function n(e,o,r){t(this,n),this.transactionSrv=e,this.navCtrl=o,this.platform=r,this.previousUrl="/tabs/profile",this.segmentValue="ongoing",this.orders=null,this.completedOrders=null}return e(n,[{key:"ngOnInit",value:function(){this.getTransactionList(),this.getTransactionCompletedList()}},{key:"ionViewDidEnter",value:function(){var t=this;this.backButton=this.platform.backButton.subscribeWithPriority(20,function(){t.goBack()})}},{key:"ionViewDidLeave",value:function(){this.backButton.unsubscribe()}},{key:"goBack",value:function(){this.navCtrl.navigateBack(this.previousUrl)}},{key:"segmentChanged",value:function(t){var n=0;"history"===t.detail.value&&(n=1),this.slides.slideTo(n)}},{key:"slideChanged",value:function(){return Object(F.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.slides.getActiveIndex();case 2:n=t.sent,this.segmentValue=0===n?"ongoing":"history";case 4:case"end":return t.stop()}},t,this)}))}},{key:"getTransactionList",value:function(){var t=this;this.orders=null,this.transactionSrv.getTransaction().then(function(n){t.orders=n.response.rows})}},{key:"getTransactionCompletedList",value:function(){var t=this;this.completedOrders=null,this.transactionSrv.getTransactionHistory().then(function(n){t.completedOrders=n.response.rows})}},{key:"onRefresh",value:function(t){"ongoing"===this.segmentValue?this.getTransactionList():this.getTransactionCompletedList(),t.target.complete()}}]),n}()).\u0275fac=function(t){return new(t||B)(d.Ob(u.l),d.Ob(a.fb),d.Ob(a.hb))},B.\u0275cmp=d.Ib({type:B,selectors:[["app-my-order-list"]],viewQuery:function(t,n){var e;1&t&&d.Jc(a.S,1),2&t&&d.tc(e=d.dc())&&(n.slides=e.first)},decls:29,vars:14,consts:[[1,"ion-no-border"],["mode","ios"],["mode","md",1,"ion-text-center"],["icon","chevron-back-outline",3,"defaultHref","click"],[3,"fullscreen"],["slot","fixed","pullFactor","1.2","pullMin","20","pullMax","80",3,"ionRefresh"],["color","primary",3,"value","ionChange"],["value","ongoing"],["value","history"],[1,"slide-order",3,"ionSlideWillChange"],["slider",""],[4,"ngFor","ngForOf"],[3,"order"]],template:function(t,n){1&t&&(d.Ub(0,"ion-header",0),d.Ub(1,"ion-toolbar",1),d.Ub(2,"ion-buttons",2),d.Ub(3,"ion-back-button",3),d.cc("click",function(){return n.goBack()}),d.Tb(),d.Tb(),d.Ub(4,"ion-title"),d.Dc(5),d.fc(6,"translate"),d.Tb(),d.Tb(),d.Tb(),d.Ub(7,"ion-content",4),d.Ub(8,"ion-refresher",5),d.cc("ionRefresh",function(t){return n.onRefresh(t)}),d.Pb(9,"ion-refresher-content"),d.Tb(),d.Ub(10,"ion-segment",6),d.cc("ionChange",function(t){return n.segmentChanged(t)}),d.Ub(11,"ion-segment-button",7),d.Ub(12,"ion-label"),d.Dc(13),d.fc(14,"translate"),d.Tb(),d.Tb(),d.Ub(15,"ion-segment-button",8),d.Ub(16,"ion-label"),d.Dc(17),d.fc(18,"translate"),d.Tb(),d.Tb(),d.Tb(),d.Ub(19,"ion-slides",9,10),d.cc("ionSlideWillChange",function(){return n.slideChanged()}),d.Ub(21,"ion-slide"),d.Ub(22,"ion-content"),d.Ub(23,"ion-grid"),d.Bc(24,z,3,1,"ion-row",11),d.Tb(),d.Tb(),d.Tb(),d.Ub(25,"ion-slide"),d.Ub(26,"ion-content"),d.Ub(27,"ion-grid"),d.Bc(28,L,3,1,"ion-row",11),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&t&&(d.Cb(3),d.mc("defaultHref",n.previousUrl),d.Cb(2),d.Ec(d.gc(6,8,"MY_ORDER")),d.Cb(2),d.mc("fullscreen",!0),d.Cb(3),d.mc("value",n.segmentValue),d.Cb(3),d.Ec(d.gc(14,10,"ON_GOING")),d.Cb(4),d.Ec(d.gc(18,12,"HISTORY")),d.Cb(7),d.mc("ngForOf",n.orders),d.Cb(4),d.mc("ngForOf",n.completedOrders))},directives:[a.t,a.bb,a.i,a.e,a.f,a.ab,a.p,a.H,a.I,a.M,a.lb,a.N,a.C,a.S,a.R,a.s,i.m,a.K,a.o,A],pipes:[g.a],styles:[".slide-order[_ngcontent-%COMP%]{height:92%}ion-segment-button[_ngcontent-%COMP%]{font-size:12px;font-weight:600;line-height:1.17;text-transform:capitalize}"]}),B),Y=[{path:"",component:(j=function(){function n(){t(this,n)}return e(n,[{key:"ngOnInit",value:function(){}}]),n}(),j.\u0275fac=function(t){return new(t||j)},j.\u0275cmp=d.Ib({type:j,selectors:[["app-my-order"]],decls:1,vars:0,template:function(t,n){1&t&&d.Pb(0,"ion-router-outlet")},directives:[a.J],styles:[".divider[_ngcontent-%COMP%]{border:.5px solid #e5e5e5;height:2px}"]}),j),children:[{path:"list",component:H},{path:":id/detail",component:k},{path:"",redirectTo:"list",pathMatch:"full"}]}],X=((V=function n(){t(this,n)}).\u0275mod=d.Mb({type:V}),V.\u0275inj=d.Lb({factory:function(t){return new(t||V)},imports:[[l.j.forChild(Y)],l.j]}),V),K=r("PCNd"),G=r("CNc/"),J=r("X1sd"),$=r("lQKP"),W=((N=function n(){t(this,n)}).\u0275mod=d.Mb({type:N}),N.\u0275inj=d.Lb({factory:function(t){return new(t||N)},imports:[[i.b,c.j,a.cb,X,K.a,G.a,J.a,$.a]]}),N)},Cmua:function(n,o,r){"use strict";r.d(o,"a",function(){return l});var i=r("mrSG"),c=r("fXoL"),a=r("TEn/"),l=function(){var n=function(){function n(e){t(this,n),this.alertController=e}return e(n,[{key:"presentAlert",value:function(t){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var e;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create(t);case 2:return e=n.sent,n.next=5,e.present();case 5:case"end":return n.stop()}},n,this)}))}}]),n}();return n.\u0275fac=function(t){return new(t||n)(c.Yb(a.b))},n.\u0275prov=c.Kb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},PCNd:function(n,e,o){"use strict";o.d(e,"a",function(){return c});var r=o("ofXK"),i=o("fXoL"),c=function(){var n=function n(){t(this,n)};return n.\u0275mod=i.Mb({type:n}),n.\u0275inj=i.Lb({factory:function(t){return new(t||n)},imports:[[r.b]]}),n}()}}])}();