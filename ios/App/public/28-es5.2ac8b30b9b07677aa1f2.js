!function(){function n(n,o){for(var t=0;t<o.length;t++){var i=o[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function o(o,t,i){return t&&n(o.prototype,t),i&&n(o,i),o}function t(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[28,37,38,39],{PCNd:function(n,o,i){"use strict";i.d(o,"a",function(){return r});var e=i("ofXK"),c=i("fXoL"),r=function(){var n=function n(){t(this,n)};return n.\u0275mod=c.Mb({type:n}),n.\u0275inj=c.Lb({factory:function(o){return new(o||n)},imports:[[e.b]]}),n}()},qtXv:function(n,i,e){"use strict";e.r(i),e.d(i,"LoyaltyPointPageModule",function(){return X});var c=e("ofXK"),r=e("3Pt+"),b=e("TEn/"),a=e("tyNb"),s=e("ZF+8"),l=e("LF58"),f=e("fXoL");function u(n,o){1&n&&(f.Ub(0,"ion-row",1),f.Ub(1,"ion-col"),f.Ub(2,"ion-row"),f.Ub(3,"ion-col",2),f.Pb(4,"ion-skeleton-text",3),f.Tb(),f.Ub(5,"ion-col",2),f.Pb(6,"ion-skeleton-text",3),f.Tb(),f.Ub(7,"ion-col",2),f.Pb(8,"ion-skeleton-text",3),f.Tb(),f.Ub(9,"ion-col",2),f.Pb(10,"ion-skeleton-text",3),f.Tb(),f.Tb(),f.Tb(),f.Ub(11,"ion-col",4),f.Pb(12,"ion-skeleton-text",3),f.Tb(),f.Tb())}var g,p=function(){return[1,2,3]},h=((g=function(){function n(){t(this,n)}return o(n,[{key:"ngOnInit",value:function(){}}]),n}()).\u0275fac=function(n){return new(n||g)},g.\u0275cmp=f.Ib({type:g,selectors:[["app-loyalty-point-skeleton"]],decls:1,vars:2,consts:[["class","ion-padding",4,"ngFor","ngForOf"],[1,"ion-padding"],["size","12"],["animated",""],[1,"ion-text-right","ion-align-self-center"]],template:function(n,o){1&n&&f.Bc(0,u,13,0,"ion-row",0),2&n&&f.mc("ngForOf",f.qc(1,p))},directives:[c.m,b.K,b.o,b.Q],styles:[""]}),g),T=e("1rxE");function d(n,o){1&n&&(f.Ub(0,"ion-grid",5),f.Pb(1,"app-loyalty-point-skeleton"),f.Tb())}function m(n,o){1&n&&(f.Ub(0,"ion-grid",5),f.Ub(1,"ion-row"),f.Ub(2,"ion-col",6),f.Dc(3),f.fc(4,"translate"),f.Tb(),f.Tb(),f.Tb()),2&n&&(f.Cb(3),f.Fc(" ",f.gc(4,1,"POINT_NOT_AVAILABLE")," "))}function v(n,o){1&n&&(f.Ub(0,"ion-label",17),f.Dc(1," New Points"),f.Tb())}function y(n,o){1&n&&(f.Ub(0,"ion-label",17),f.Dc(1," Redeem Points"),f.Tb())}function U(n,o){if(1&n&&(f.Ub(0,"ion-col",11),f.Ub(1,"ion-text"),f.Ub(2,"small"),f.Dc(3),f.fc(4,"number"),f.Tb(),f.Tb(),f.Tb()),2&n){var t=f.ec().$implicit;f.Cb(3),f.Fc("Transaction Rp ",f.gc(4,1,t.transaction_total_price),"")}}function P(n,o){if(1&n&&(f.Ub(0,"ion-text",18),f.Dc(1),f.Pb(2,"img",19),f.Tb()),2&n){var t=f.ec().$implicit;f.Cb(1),f.Fc(" +",t.point," ")}}function w(n,o){if(1&n&&(f.Ub(0,"ion-text",20),f.Dc(1),f.Pb(2,"img",19),f.Tb()),2&n){var t=f.ec().$implicit;f.Cb(1),f.Fc(" -",t.point," ")}}function C(n,o){if(1&n&&(f.Ub(0,"ion-row",10),f.Ub(1,"ion-col"),f.Ub(2,"ion-row"),f.Ub(3,"ion-col",11),f.Bc(4,v,2,0,"ion-label",12),f.Bc(5,y,2,0,"ion-label",12),f.Tb(),f.Bc(6,U,5,3,"ion-col",13),f.Ub(7,"ion-col",11),f.Ub(8,"ion-text"),f.Ub(9,"small"),f.Dc(10),f.Tb(),f.Tb(),f.Tb(),f.Ub(11,"ion-col",11),f.Ub(12,"ion-text"),f.Ub(13,"small"),f.Dc(14),f.fc(15,"date"),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Ub(16,"ion-col",14),f.Bc(17,P,3,1,"ion-text",15),f.Bc(18,w,3,1,"ion-text",16),f.Tb(),f.Tb()),2&n){var t=o.$implicit;f.Cb(4),f.mc("ngIf","increment"==t.type),f.Cb(1),f.mc("ngIf","increment"!==t.type),f.Cb(1),f.mc("ngIf","increment"==t.type),f.Cb(4),f.Fc("ID ","increment"==t.type?t.transaction_code:t.voucher_id,""),f.Cb(4),f.Ec(f.hc(15,7,t.created_at,"d-MMM-yy HH:mm")),f.Cb(3),f.mc("ngIf","increment"==t.type),f.Cb(1),f.mc("ngIf","increment"!==t.type)}}function O(n,o){if(1&n){var t=f.Vb();f.Ub(0,"ion-grid",5),f.Bc(1,C,19,10,"ion-row",7),f.Ub(2,"ion-infinite-scroll",8),f.cc("ionInfinite",function(n){return f.vc(t),f.ec().loadMorePoint(n)}),f.Pb(3,"ion-infinite-scroll-content",9),f.Tb(),f.Tb()}if(2&n){var i=f.ec();f.Cb(1),f.mc("ngForOf",i.loyaltyPoints)}}var x,I=((x=function(){function n(o,i){t(this,n),this.userSrv=o,this.toastSrv=i,this.fetching=!1,this.page={row:10,page:1}}return o(n,[{key:"ngOnInit",value:function(){this.getHistory()}},{key:"getHistory",value:function(){var n=this;this.fetching=!0,this.userSrv.getLoyaltyHistory().then(function(o){n.loyaltyPoints=o,n.fetching=!1}).catch(function(o){n.toastSrv.show(o.error.error.message),n.fetching=!1})}},{key:"loadMorePoint",value:function(n){setTimeout(function(){n.target.complete()},500)}}]),n}()).\u0275fac=function(n){return new(n||x)(f.Ob(l.m),f.Ob(s.e))},x.\u0275cmp=f.Ib({type:x,selectors:[["app-loyalty-point-history"]],decls:11,vars:7,consts:[[1,"ion-no-border",3,"translucent"],["mode","ios"],["mode","md",1,"ion-text-center"],["icon","chevron-back","defaultHref","/loyalty-point","icon","chevron-back-outline"],["class","ion-no-padding",4,"ngIf"],[1,"ion-no-padding"],[1,"ion-text-center"],["class","ion-padding",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles"],[1,"ion-padding"],["size","12"],["class","point-title",4,"ngIf"],["size","12",4,"ngIf"],[1,"ion-text-right","ion-align-self-center"],["color","success","class","point-value",4,"ngIf"],["color","danger","class","point-value",4,"ngIf"],[1,"point-title"],["color","success",1,"point-value"],["src","assets/images/ic_point.svg",1,"point-icon"],["color","danger",1,"point-value"]],template:function(n,o){1&n&&(f.Ub(0,"ion-header",0),f.Ub(1,"ion-toolbar",1),f.Ub(2,"ion-buttons",2),f.Pb(3,"ion-back-button",3),f.Tb(),f.Ub(4,"ion-title"),f.Dc(5),f.fc(6,"translate"),f.Tb(),f.Tb(),f.Tb(),f.Ub(7,"ion-content"),f.Bc(8,d,2,0,"ion-grid",4),f.Bc(9,m,5,3,"ion-grid",4),f.Bc(10,O,4,1,"ion-grid",4),f.Tb()),2&n&&(f.mc("translucent",!0),f.Cb(5),f.Ec(f.gc(6,5,"LOYALTY_POINTS")),f.Cb(3),f.mc("ngIf",o.fetching),f.Cb(1),f.mc("ngIf",!o.fetching&&(!o.loyaltyPoints||o.loyaltyPoints&&!o.loyaltyPoints.length)),f.Cb(1),f.mc("ngIf",!o.fetching&&o.loyaltyPoints&&o.loyaltyPoints.length))},directives:[b.t,b.bb,b.i,b.e,b.f,b.ab,b.p,c.n,b.s,h,b.K,b.o,c.m,b.v,b.w,b.X,b.C],pipes:[T.a,c.e,c.f],styles:[".point-title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#353535}.point-value[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.point-icon[_ngcontent-%COMP%]{width:12px}"]}),x),k=e("inE8");function _(n,o){1&n&&(f.Ub(0,"ion-col",23),f.Pb(1,"app-voucher-skeleton"),f.Tb())}var F=function(){return[1,2,3]};function L(n,o){1&n&&(f.Ub(0,"ion-row"),f.Bc(1,_,2,0,"ion-col",22),f.Tb()),2&n&&(f.Cb(1),f.mc("ngForOf",f.qc(1,F)))}function z(n,o){1&n&&(f.Ub(0,"ion-row"),f.Ub(1,"ion-col",24),f.Ub(2,"ion-text"),f.Dc(3),f.fc(4,"translate"),f.Tb(),f.Tb(),f.Tb()),2&n&&(f.Cb(3),f.Fc(" ",f.gc(4,1,"VOUCHER_NOT_FOUND"),""))}function D(n,o){if(1&n&&(f.Ub(0,"ion-col",26),f.Pb(1,"app-card-voucher-point",27),f.Tb()),2&n){var t=o.$implicit;f.Cb(1),f.mc("voucher",t)}}function M(n,o){if(1&n&&(f.Ub(0,"ion-row"),f.Bc(1,D,2,1,"ion-col",25),f.Tb()),2&n){var t=f.ec();f.Cb(1),f.mc("ngForOf",t.vouchers)}}var S,B,E,N=function(){return["/voucher","list"]},H=function(){return{type:"point"}},j=[{path:"",component:(S=function(){function n(o,i,e,c){t(this,n),this.router=o,this.userSrv=i,this.voucherSrv=e,this.toastSrv=c,this.fetching=!1}return o(n,[{key:"ngOnInit",value:function(){this.getPoint(),this.getVoucher()}},{key:"getPoint",value:function(){var n=this;this.userSrv.getProfile().then(function(o){n.point=o.loyalty_point}).catch(function(){n.point=null})}},{key:"getVoucher",value:function(){var n=this;this.fetching=!0,this.voucherSrv.getListLoyalty().then(function(o){n.vouchers=o.response,n.fetching=!1}).catch(function(o){n.toastSrv.show(o.error.error.message),n.fetching=!1})}},{key:"goToHistory",value:function(){this.router.navigate(["/loyalty-point","history"])}}]),n}(),S.\u0275fac=function(n){return new(n||S)(f.Ob(a.g),f.Ob(l.m),f.Ob(l.n),f.Ob(s.e))},S.\u0275cmp=f.Ib({type:S,selectors:[["app-loyalty-point"]],decls:48,vars:26,consts:[[1,"ion-no-border",3,"translucent"],["mode","ios"],["mode","md",1,"ion-text-center"],["icon","chevron-back","defaultHref","/tabs/home","icon","chevron-back-outline"],["slot","end"],[3,"click"],["name","time-outline","color","primary",1,"header-action-size"],[1,"ion-no-padding"],["src","assets/images/banner-point.svg",1,"img-banner"],[1,"ion-padding-horizontal","ion-padding-top"],[1,"subtitle-point"],[1,"padding-point"],["size","1",1,"ion-align-self-center"],["src","assets/images/ic_point.svg",1,"point-icon"],[1,"ion-align-self-center"],[1,"point-label"],[1,"ion-text-right","ion-align-self-center"],[1,"point-value"],["size","8"],["size","4",1,"ion-text-right"],[1,"section-see-all","link",3,"routerLink","queryParams"],[4,"ngIf"],["size","12",4,"ngFor","ngForOf"],["size","12"],["size","12",1,"ion-text-center","ion-padding-top"],["class","ion-padding-horizontal","size","12",4,"ngFor","ngForOf"],["size","12",1,"ion-padding-horizontal"],[3,"voucher"]],template:function(n,o){1&n&&(f.Ub(0,"ion-header",0),f.Ub(1,"ion-toolbar",1),f.Ub(2,"ion-buttons",2),f.Pb(3,"ion-back-button",3),f.Tb(),f.Ub(4,"ion-title"),f.Dc(5),f.fc(6,"translate"),f.Tb(),f.Ub(7,"ion-buttons",4),f.Ub(8,"ion-button",5),f.cc("click",function(){return o.goToHistory()}),f.Pb(9,"ion-icon",6),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Ub(10,"ion-content"),f.Ub(11,"ion-grid",7),f.Ub(12,"ion-row",7),f.Ub(13,"ion-col",7),f.Pb(14,"img",8),f.Tb(),f.Tb(),f.Ub(15,"ion-row",9),f.Ub(16,"ion-col"),f.Ub(17,"ion-text",10),f.Dc(18),f.fc(19,"translate"),f.Tb(),f.Tb(),f.Tb(),f.Ub(20,"ion-row"),f.Ub(21,"ion-col"),f.Ub(22,"ion-card"),f.Ub(23,"ion-row",11),f.Ub(24,"ion-col"),f.Ub(25,"ion-row"),f.Ub(26,"ion-col",12),f.Pb(27,"img",13),f.Tb(),f.Ub(28,"ion-col",14),f.Ub(29,"ion-text",15),f.Dc(30),f.fc(31,"translate"),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Ub(32,"ion-col",16),f.Ub(33,"ion-text",17),f.Dc(34),f.fc(35,"number"),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Ub(36,"ion-row",9),f.Ub(37,"ion-col",18),f.Ub(38,"ion-text"),f.Dc(39),f.fc(40,"translate"),f.Tb(),f.Tb(),f.Ub(41,"ion-col",19),f.Ub(42,"ion-text",20),f.Dc(43),f.fc(44,"translate"),f.Tb(),f.Tb(),f.Tb(),f.Bc(45,L,2,2,"ion-row",21),f.Bc(46,z,5,3,"ion-row",21),f.Bc(47,M,2,1,"ion-row",21),f.Tb(),f.Tb()),2&n&&(f.mc("translucent",!0),f.Cb(5),f.Ec(f.gc(6,12,"LOYALTY_POINTS")),f.Cb(13),f.Fc(" ",f.gc(19,14,"YOUR_POINTS")," "),f.Cb(12),f.Ec(f.gc(31,16,"LOYALTY_POINTS")),f.Cb(4),f.Fc("",f.gc(35,18,o.point)||"-"," POINTS"),f.Cb(5),f.Ec(f.gc(40,20,"BUY_VOUCHERS")),f.Cb(3),f.mc("routerLink",f.qc(24,N))("queryParams",f.qc(25,H)),f.Cb(1),f.Fc(" ",f.gc(44,22,"SEE_ALL")," "),f.Cb(2),f.mc("ngIf",o.fetching),f.Cb(1),f.mc("ngIf",!o.fetching&&(!o.vouchers||o.vouchers&&!o.vouchers.length)),f.Cb(1),f.mc("ngIf",!o.fetching&&o.vouchers&&o.vouchers.length))},directives:[b.t,b.bb,b.i,b.e,b.f,b.ab,b.h,b.u,b.p,b.s,b.K,b.o,b.X,b.j,b.kb,a.h,c.n,c.m,k.a],pipes:[T.a,c.f],styles:[".padding-point[_ngcontent-%COMP%]{padding:10px}.point-label[_ngcontent-%COMP%]{padding-left:5px;font-size:11px;font-weight:600;color:#353535}.point-value[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#353535}.point-icon[_ngcontent-%COMP%]{width:16px;height:16px}.subtitle-point[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#353535}.img-banner[_ngcontent-%COMP%]{width:100%;height:121px;-o-object-fit:cover;object-fit:cover}"]}),S)},{path:"history",component:I}],Y=((B=function n(){t(this,n)}).\u0275mod=f.Mb({type:B}),B.\u0275inj=f.Lb({factory:function(n){return new(n||B)},imports:[[a.j.forChild(j)],a.j]}),B),q=e("PCNd"),A=e("CNc/"),X=((E=function n(){t(this,n)}).\u0275mod=f.Mb({type:E}),E.\u0275inj=f.Lb({factory:function(n){return new(n||E)},imports:[[c.b,r.j,b.cb,Y,q.a,A.a]]}),E)}}])}();