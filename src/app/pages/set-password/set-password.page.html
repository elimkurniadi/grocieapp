<ion-header class="ion-no-border">
  <ion-toolbar mode="ios">
    <ion-buttons slot="start" mode="md">
      <ion-back-button icon="chevron-back" defaultHref="/login/form"></ion-back-button>
      <ion-title>{{ 'NEW_PASSWORD' | translate }}</ion-title>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-grid class="ion-padding-top">
    <ion-row>
      <ion-col size="12" class="ion-no-padding">
        <form (ngSubmit)="setPassword()" #changePassForm="ngForm" [formGroup]="fg">
          <ion-item lines="none" class="form-group">
            <ion-label position="stacked">{{'NEW_PASSWORD' | translate}}</ion-label>
            <ion-input
              class="default-theme"
              formControlName="password"
              placeholder="{{ 'NEW_PASSWORD' | translate }}"
              [type]="showCurrPass ? 'text' : 'password'"
            ></ion-input>
            <ion-icon
              (click)="showCurrPass = !showCurrPass"
              [name]="showCurrPass ? 'eye-off-outline' : 'eye-outline'"
              size="small"
              slot="end"
            ></ion-icon>
            <small *ngIf="fg.controls.password.dirty"
              >{{fg.controls.password.errors?.required?.message}} {{fg.controls.password.errors?.minLength?.message}}
            </small>
          </ion-item>
          <ion-item lines="none" class="padding-form" class="form-group">
            <ion-label position="stacked">{{'VERIFY_NEW_PASSWORD' | translate}}</ion-label>
            <ion-input
              class="default-theme"
              formControlName="confirm_password"
              placeholder="{{ 'VERIFY_NEW_PASSWORD' | translate }}"
              [type]="showNewPass ? 'text' : 'password'"
            ></ion-input>
            <ion-icon
              (click)="showNewPass = !showNewPass"
              [name]="showNewPass ? 'eye-off-outline' : 'eye-outline'"
              size="small"
              slot="end"
            ></ion-icon>
            <small *ngIf="fg.controls.confirm_password.dirty"
              >{{fg.controls.confirm_password.errors?.required?.message}}
              {{fg.controls.confirm_password.errors?.compare?.message}}
            </small>
          </ion-item>
        </form>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
<ion-footer class="ion-no-border">
  <ion-row class="ion-padding-bottom">
    <ion-col class="ion-padding">
      <ion-button expand="full" shape="round" color="success" (click)="changePassForm.ngSubmit.emit()">
        {{ 'CHANGE_PASSWORD' | translate }}</ion-button
      >
    </ion-col>
  </ion-row>
</ion-footer>
